!function(){"use strict";var t,e,r,n,o,i,a,c,u,s={},l={};function f(t){var e=l[t];if(void 0!==e)return e.exports;var r=l[t]={exports:{}};return s[t](r,r.exports,f),r.exports}f.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}}(),f.rv=function(){return"1.3.15"},f.ruid="bundler=rspack@1.3.15",(t=a||(a={})).WINDOWS_PHONE="Windows Phone",t.ANDROID="android",t.IOS="ios",t.PC="pc",(e=c||(c={})).MUSICAL_LY="musical_ly",e.MUSICALLY_GO="musically_go",e.TRILL="trill",e.ULTRALITE="ultralite",e.LEMON8="lemon8",e.TTLINK="ttlink",(i={})[c.LEMON8]={},i[c.TTLINK]={},i[c.MUSICAL_LY]=((n={})[a.IOS]="33.4.0",n[a.ANDROID]="23.1.0",n),i[c.TRILL]=((o={})[a.IOS]="33.4.0",o[a.ANDROID]="23.1.0",o);var p=function(){return"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:void 0!==f.g?f.g:Function("return this")()},h=function(){return p().TiktokAnalyticsObject||"ttq"},y=function(){return p()[h()]},d=function(t){try{var e=y()._plugins||{};if(null!=e[t])return!!e[t];return!0}catch(t){return!0}};function _(){_=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i,a,c,u,s=Object.create((e&&e.prototype instanceof p?e:p).prototype);return n(s,"_invoke",{value:(i=t,a=r,c=new E(o||[]),u="suspendedStart",function(t,e){if("executing"===u)throw Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return N()}for(c.method=t,c.arg=e;;){var r=c.delegate;if(r){var n=function t(e,r){var n=r.method,o=e.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,f):a:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,f)}(r,c);if(n){if(n===f)continue;return n}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===u)throw u="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);u="executing";var o=l(i,a,c);if("normal"===o.type){if(u=c.done?"completed":"suspendedYield",o.arg===f)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(u="completed",c.method="throw",c.arg=o.arg)}})}),s}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function y(){}var d={};u(d,i,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(T([])));g&&g!==e&&r.call(g,i)&&(d=g);var m=y.prototype=p.prototype=Object.create(d);function b(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var o;n(this,"_invoke",{value:function(n,i){function a(){return new e(function(o,a){!function n(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(f).then(function(t){s.value=t,a(s)},function(t){return n("throw",t,a,c)})}c(u.arg)}(n,i,o,a)})}return o=o?o.then(a,a):a()}})}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=y,n(m,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:h,configurable:!0}),h.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},b(m),u(m,c,"Generator"),u(m,i,function(){return this}),u(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=T,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function v(t,e,r){return(v=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}()?function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&g(o,r.prototype),o}:Reflect.construct.bind()).apply(null,arguments)}function g(t,e){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var m={error:[]};(r=u||(u={})).LOAD_START="load_start",r.LOAD_END="load_end",r.BEFORE_INIT="before_init",r.INIT_START="init_start",r.INIT_END="init_end",r.JSB_INIT_START="jsb_init_start",r.JSB_INIT_END="jsb_init_end",r.BEFORE_AD_INFO_INIT_START="before_ad_info_init_start",r.AD_INFO_INIT_START="ad_info_init_start",r.AD_INFO_INIT_END="ad_info_init_end",r.IDENTIFY_INIT_START="identify_init_start",r.IDENTIFY_INIT_END="identify_init_end",r.PLUGIN_INIT_START="_init_start",r.PLUGIN_INIT_END="_init_end",r.PIXEL_SEND="pixel_send",r.PIXEL_SEND_PCM="pixel_send_PCM",r.JSB_SEND="jsb_send",r.HTTP_SEND="http_send",r.HANDLE_CACHE="handle_cache",r.INIT_ERROR="init_error",r.PIXEL_EMPTY="pixel_empty",r.JSB_ERROR="jsb_error",r.API_ERROR="api_error",r.PLUGIN_ERROR="plugin_error",r.CUSTOM_INFO="custom_info",r.CUSTOM_ERROR="custom_error",r.CUSTOM_TIMER="custom_timer";try{(function(){if(/function bind\(\) \{[\s\S]*\[native code\][\s\S]*\}/.test(Function.prototype.bind.toString()))return!0;function t(){}return new(t.bind.apply(t,[void 0,1])) instanceof t})()&&!Function.prototype._ttq_bind?Object.defineProperty(Function.prototype,"_ttq_bind",{value:Function.prototype.bind,enumerable:!1,writable:!1,configurable:!1}):Function.prototype._ttq_bind||Object.defineProperty(Function.prototype,"_ttq_bind",{value:function(t){if("function"!=typeof this)throw TypeError("What is being called by bind is not a function.");var e=t||window,r=Array.prototype.slice.call(arguments).slice(1),n=Symbol("key");return e[n]=this,function t(){return this instanceof t?v(e[n],r.concat(Array.prototype.slice.call(arguments))):e[n].apply(e,r.concat(Array.prototype.slice.call(arguments)))}},enumerable:!1,writable:!1,configurable:!1}),Object._ttq_keys||(Object._ttq_keys=function(t){try{if(Array.isArray(t))return Object.keys(t).filter(function(t){return -1===["each","eachSlice","all","any","collect","detect","findAll","grep","include","inGroupsOf","inject","invoke","max","min","partition","pluck","reject","sortBy","toArray","zip","size","inspect","select","member","_reverse","_each","clear","first","last","compact","flatten","without","uniq","intersect","clone","toJSON","remove","swap","putAll"].indexOf(t)});return Object.keys(t)}catch(e){return Object.keys(t)}});var b=h();function w(t){return null===t?"NULL":void 0===t?"UNDEFINED":"[object Object]"===Object.prototype.toString.call(t)||"[object Array]"===Object.prototype.toString.call(t)?JSON.stringify(t):t.toString()}/function Map\(\) \{[\s\S]*\[native code\][\s\S]*\}/.test(Map.toString())?window[b]._ttq_map=Map:window[b]._ttq_map||(window[b]._ttq_map=function(){this.items={},this.size=0},window[b]._ttq_map.prototype.set=function(t,e){return!this.has(t)&&(this.items[w(t)]=e,this.size++),this},window[b]._ttq_map.prototype.get=function(t){return this.items[w(t)]},window[b]._ttq_map.prototype.has=function(t){return void 0!==this.items[w(t)]},window[b]._ttq_map.prototype.delete=function(t){return this.has(t)&&(delete this.items[w(t)],this.size--),this},window[b]._ttq_map.prototype.clear=function(){this.items={},this.size=0},window[b]._ttq_map.prototype.keys=function(){var t=_().mark(n),e=[];for(var r in this.items)this.has(r)&&e.push(r);function n(){return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(e,"t0",1);case 1:case"end":return t.stop()}},t)}return n()},window[b]._ttq_map.prototype.values=function(){var t=_().mark(n),e=[];for(var r in this.items)this.has(r)&&e.push(this.items[r]);function n(){return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(e,"t0",1);case 1:case"end":return t.stop()}},t)}return n()}),function(){if(/function create\(\) \{[\s\S]*\[native code\][\s\S]*\}/.test(Map.toString())){Object._ttq_create=Object.create;return}Object._ttq_create=function(){function t(){}var e=Object.prototype.hasOwnProperty;return function(r,n){if("object"!=typeof r&&"function"!=typeof r)throw TypeError("Object prototype may only be an Object or null");t.prototype=r;var o=new t;return t.prototype=null,null!=n&&Object.keys(n).forEach(function(t){var r=n[t];if("object"==typeof r&&null!==r)e.call(r,"value")?o[t]=r.value:("function"==typeof r.get||"function"==typeof r.set)&&Object.defineProperty(o,t,r);else throw TypeError("Property description must be an object: "+r)}),o}}()}()}catch(t){!function(t,e,r,n){void 0===r&&(r={}),void 0===n&&(n=!1);try{var o=y(),i=null==o.getPlugin?void 0:o.getPlugin("Monitor");i&&i.error&&"function"==typeof i.error?i.error.call(i,t,e,r,n):d("Monitor")&&m.error.push({event:t,err:e,detail:r,withoutJSB:n})}catch(t){}}(u.INIT_ERROR,t)}}();!function(){var t={616:function(){}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.rv=function(){return"1.3.15"},r.ruid="bundler=rspack@1.3.15",function(){"use strict";var t="tt_adInfo",e="tt_appInfo",n="_tt_enable_cookie",o="_ttp",i="tt_sessionId",a="tt_pixel_session_index",c="ttcsid";(nA=os||(os={})).WINDOWS_PHONE="Windows Phone",nA.ANDROID="android",nA.IOS="ios",nA.PC="pc",(nC=ou||(ou={})).MUSICAL_LY="musical_ly",nC.MUSICALLY_GO="musically_go",nC.TRILL="trill",nC.ULTRALITE="ultralite",nC.LEMON8="lemon8",nC.TTLINK="ttlink";var s=((oc={})[ou.LEMON8]={},oc[ou.TTLINK]={},oc[ou.MUSICAL_LY]=((oi={})[os.IOS]="33.4.0",oi[os.ANDROID]="23.1.0",oi),oc[ou.TRILL]=((oa={})[os.IOS]="33.4.0",oa[os.ANDROID]="23.1.0",oa),oc),u={expires:390},f="ttoclid",l={"www.agoda.com":"tag"},h=null,p=function(t){h=t},d=function(){return"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:void 0!==r.g?r.g:Function("return this")()},v=function(){return d().TiktokAnalyticsObject||"ttq"},g=function(){var t=d();return h||t[v()]},y=function(){var t=d();return void 0!==t.DedicatedWorkerGlobalScope?t instanceof t.DedicatedWorkerGlobalScope:"DedicatedWorkerGlobalScope"===t.constructor.name},_=function(){return!!g()._is_onsite},m=function(){var t=d();return("object"==typeof navigator&&navigator.userAgent?navigator.userAgent:"")||t._userAgent},E=function(t){try{var e=g();return e&&e._self_host_config&&e._self_host_config[t]||""}catch(t){return""}},b=function(t,e){void 0===e&&(e=[]);try{return e.includes(t)}catch(t){return!1}},I=function(t){var e=g(),r=e._i||{},n=t&&r[t];return t&&n&&n._partner?n._partner:e._partner?e._partner:""},O=function(t){var e=g(),r=e._i||{};return Object.keys(r).filter(function(e){return r[e]._partner===t}).length>0||e._partner===t},P=function(t){try{var e=g()._plugins||{};if(null!=e[t])return!!e[t];return!0}catch(t){return!0}},T=function(){try{var t=g()._ppf;return null==t.printAndClear?void 0:t.printAndClear()}catch(t){}},S={info:[],error:[]};function N(t,e,r){void 0===e&&(e={}),void 0===r&&(r=!1);try{var n=g(),o=null==n.getPlugin?void 0:n.getPlugin("Monitor");o&&o.info&&"function"==typeof o.info?o.info.call(o,t,e,r):P("Monitor")&&S.info.push({event:t,detail:e,withoutJSB:r})}catch(t){}}function R(t,e,r,n){void 0===r&&(r={}),void 0===n&&(n=!1);try{var o=g(),i=null==o.getPlugin?void 0:o.getPlugin("Monitor");i&&i.error&&"function"==typeof i.error?i.error.call(i,t,e,r,n):P("Monitor")&&S.error.push({event:t,err:e,detail:r,withoutJSB:n})}catch(t){}}function w(t,e){try{var r=g(),n=null==r.getPlugin?void 0:r.getPlugin("DiagnosticsConsole");n&&n.warn.apply(n,[t,e])}catch(t){}}function L(){var t={lib:"ttq",pixelCode:"MOCK_SHOP_ID"};try{var e=document&&document.currentScript,r=e&&e.getAttribute("data-id")||"",n=v()||"ttq";t={pixelCode:r,lib:n}}catch(e){t={lib:"ttq",pixelCode:""}}return t}function x(t){var e=Error(t);return e.source="ulid",e}(nk=of||(of={})).LOAD_START="load_start",nk.LOAD_END="load_end",nk.BEFORE_INIT="before_init",nk.INIT_START="init_start",nk.INIT_END="init_end",nk.JSB_INIT_START="jsb_init_start",nk.JSB_INIT_END="jsb_init_end",nk.BEFORE_AD_INFO_INIT_START="before_ad_info_init_start",nk.AD_INFO_INIT_START="ad_info_init_start",nk.AD_INFO_INIT_END="ad_info_init_end",nk.IDENTIFY_INIT_START="identify_init_start",nk.IDENTIFY_INIT_END="identify_init_end",nk.PLUGIN_INIT_START="_init_start",nk.PLUGIN_INIT_END="_init_end",nk.PIXEL_SEND="pixel_send",nk.PIXEL_SEND_PCM="pixel_send_PCM",nk.JSB_SEND="jsb_send",nk.HTTP_SEND="http_send",nk.HANDLE_CACHE="handle_cache",nk.INIT_ERROR="init_error",nk.PIXEL_EMPTY="pixel_empty",nk.JSB_ERROR="jsb_error",nk.API_ERROR="api_error",nk.PLUGIN_ERROR="plugin_error",nk.CUSTOM_INFO="custom_info",nk.CUSTOM_ERROR="custom_error",nk.CUSTOM_TIMER="custom_timer",(nD=ol||(ol={}))[nD.NOT_SURE=0]="NOT_SURE",nD[nD.INVOKE_METHOD_ENABLED=1]="INVOKE_METHOD_ENABLED",nD[nD.INVOKE_METHOD_NOT_ENABLED=2]="INVOKE_METHOD_NOT_ENABLED",(nj=oh||(oh={})).NORMAL="1",nj.NOT_CROSS_DOMAIN_IFRAME="2",nj.CROSS_DOMAIN_IFRAME="3",nj.WEB_WORKER="4",nj.SANDBOX_IFRAME="5",nj.GTM_IFRAME="6",nj.URL_IN_QUERY_IFRAME="7",nj.UNKNOWN_IFRAME="8";var A="0123456789ABCDEFGHJKMNPQRSTVWXYZ",C=A.length,k=(nM||(nM=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments[1];e||(e="undefined"!=typeof window?window:null);var n=e&&(e.crypto||e.msCrypto);if(n)return function(){var t=new Uint8Array(1);return n.getRandomValues(t),t[0]/255};try{var o=r(616);return function(){return o.randomBytes(1).readUInt8()/255}}catch(t){}if(t)return function(){return Math.random()};throw x("secure crypto unusable, insecure Math.random not allowed")}()),function(t){return isNaN(t)&&(t=Date.now()),function(t,e){if(isNaN(t))throw Error(t+" must be a number");if(t>0xffffffffffff)throw x("cannot encode time greater than 281474976710655");if(t<0)throw x("time must be positive");if(!1===Number.isInteger(t))throw x("time must be an integer");for(var r=void 0,n="";e>0;e--)r=t%C,n=A.charAt(r)+n,t=(t-r)/C;return n}(t,10)+function(t,e){for(var r="";t>0;t--)r=function(t){var e=Math.floor(t()*C);return e===C&&(e=C-1),A.charAt(e)}(e)+r;return r}(16,nM)});(nF=op||(op={})).EMPTY_VALUE="empty_value",nF.WRONG_FORMAT="wrong_format",nF.CORRECT_FORMAT="correct_format",nF.HASHED="hashed",nF.HASHED_ERR="hashed_err",nF.HASHED_CORRECT="hashed_correct",nF.PLAINTEXT_EMAIL="plaintext_email",nF.PLAINTEXT_PHONE="plaintext_phone",(nU=od||(od={})).EMPTY_VALUE="empty_value",nU.PLAIN_EMAIL="plain_email",nU.PLAIN_PHONE="plain_phone",nU.HASHED="hashed",nU.FILTER_EVENTS="filter_events",nU.UNKNOWN_INVALID="unknown_invalid",nU.BASE64_STRING_HASHED="base64_string_hashed",nU.BASE64_HEX_HASHED="base64_hex_hashed",nU.PLAIN_MDN_EMAIL="plain_mdn_email",nU.ZIP_CODE_IS_NOT_HASHED="zip_code_is_not_hashed",nU.ZIP_CODE_IS_NOT_US="zip_code_is_not_us",nU.ZIP_CODE_IS_HASHED="zip_code_is_hashed",nU.ZIP_CODE_IS_US="zip_code_is_us",(nH=ov||(ov={})).Manual="manual",nH.ManualV2="manual_v2",nH.Auto="auto",nH.EBManual="eb_manual",(nG=og||(og={})).empty="empty",nG.whitespace="whitespace",nG.hardcode="hardcode",nG.encode="encode",(nV=oy||(oy={})).letterCase="letter_case",nV.isNotValidEmail="is_not_valid_email",nV.isNotPossibleEmail="is_not_possible_email",nV.domainTypo="domain_typo",nV.addressFormat="address_format",(nB=o_||(o_={})).invalidCountry="invalid_country",nB.notANumber="not_a_number",nB.tooShort="too_short",nB.tooLong="too_long",nB.invalidLength="invalid_length",nB.emptyCountryCodeThroughIP="empty_country_code_through_ip",nB.invalidCountryAfterInjectPlus="invalid_country_after_inject_plus",nB.notANumberAfterInjectPlus="not_a_number_after_inject_plus",nB.tooShortAfterInjectPlus="too_short_after_inject_plus",nB.tooLongAfterInjectPlus="too_long_after_inject_plus",nB.invalidLengthAfterInjectPlus="invalid_length_after_inject_plus",nB.invalidCountryAfterInjectCountry="invalid_country_after_inject_country",nB.notANumberAfterInjectCountry="not_a_number_after_inject_country",nB.tooShortAfterInjectCountry="too_short_after_inject_country",nB.tooLongAfterInjectCountry="too_long_after_inject_country",nB.invalidLengthAfterInjectCountry="invalid_length_after_inject_country",(nW=om||(om={})).missing="missing",nW.valid="valid",nW.invalid="invalid";var D={raw_email:{label:om.missing},raw_auto_email:{label:om.missing},raw_phone:{label:om.missing},raw_auto_phone:{label:om.missing},hashed_email:{label:om.missing},hashed_phone:{label:om.missing},raw_eb_email:{label:om.missing},raw_eb_phone:{label:om.missing}};(nK=oE||(oE={}))[nK.UNKNOWN=0]="UNKNOWN",nK[nK.HOLD=1]="HOLD",nK[nK.REVOKE=2]="REVOKE",nK[nK.GRANT=3]="GRANT";var j=["phone_number","email","external_id"],M={EMAIL_IS_HASHED:"email_is_hashed",PHONE_IS_HASHED:"phone_is_hashed",SHA256_EMAIL:"sha256_email",SHA256_PHONE:"sha256_phone"},F="auto_trigger_type",U=function(t){return"[object Object]"===Object.prototype.toString.call(t)},H=function(t){return t+"-"+Date.now()+"-"+(Math.floor(Math.random()*(9e12-1))+1e12)},G=function(t,e,r){return void 0===r&&(r="-"),""+t+r+e};function V(t,e,r){void 0===e&&(e=500);var n=-1,o=r?t.bind(r):t;return function(){var t=Array.prototype.slice.apply(arguments);Date.now()-n>=e&&(o.apply(void 0,t),n=Date.now())}}var B=function(t){return/^(0|([1-9]\d*))$/.test(""+t)};function W(){W=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i,a,c,s,u=Object._ttq_create((e&&e.prototype instanceof h?e:h).prototype);return n(u,"_invoke",{value:(i=t,a=r,c=new O(o||[]),s="suspendedStart",function(t,e){if("executing"===s)throw Error("Generator is already running");if("completed"===s){if("throw"===t)throw e;return T()}for(c.method=t,c.arg=e;;){var r=c.delegate;if(r){var n=function t(e,r){var n=r.method,o=e.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+n+"' method")),l;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,l;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,l):a:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,l)}(r,c);if(n){if(n===l)continue;return n}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===s)throw s="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s="executing";var o=f(i,a,c);if("normal"===o.type){if(s=c.done?"completed":"suspendedYield",o.arg===l)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(s="completed",c.method="throw",c.arg=o.arg)}})}),u}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function h(){}function p(){}function d(){}var v={};s(v,i,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==e&&r.call(y,i)&&(v=y);var _=d.prototype=h.prototype=Object._ttq_create(v);function m(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;n(this,"_invoke",{value:function(n,i){function a(){return new e(function(o,a){!function n(o,i,a,c){var s=f(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return n("throw",t,a,c)})}c(s.arg)}(n,i,o,a)})}return o=o?o.then(a,a):a()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=d,n(_,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(_),t},t.awrap=function(t){return{__await:t}},m(E.prototype),s(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},m(_),s(_,c,"Generator"),s(_,i,function(){return this}),s(_,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function K(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){r(t);return}c.done?e(s):Promise.resolve(s).then(n,o)}var Y=function(t){},J=function(t){return!!t},Q=function(t){return void 0!==t.metric_name},X=function(t){var e;return Object.keys((null==t||null==(e=t.context)?void 0:e.user)||{}).some(function(t){return -1!==j.indexOf(t)})};function q(t,e){var r,n=t;return function(){if(n){for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];r=t.apply(e,i),n=null}return r}}var z=function(t){var e;return void 0===(e=t)&&(e=21),crypto.getRandomValues(new Uint8Array(e)).reduce(function(t,e){return(e&=63)<36?t+=e.toString(36):e<62?t+=(e-26).toString(36).toUpperCase():e>62?t+="-":t+="_",t},"")},Z=function(){for(var t=k(Date.now());27!==t.length;)t.length>27?t=t.slice(0,27):t+="_";return t},$=function(t,e){if(0===Object.keys(t).length)return{};var r={identity_params:{}},n={email:["email_is_hashed","sha256_email"],phone_number:["phone_is_hashed","sha256_phone"],zip_code:["zip_code"]};return Object.entries(e).forEach(function(e){var o=e[0];e[1]&&n[o]&&n[o].forEach(function(e){if(r.identity_params[e]=[op.EMPTY_VALUE],t[e]){var n=t[e]||[op.EMPTY_VALUE];r.identity_params&&(r.identity_params[e]=[].concat(n))}})}),r},tt=function(t,e){var r={identity_params:{}};return 0===Object.keys(t).length?{}:(Object.entries(e).forEach(function(e){var n=e[0];if(e[1])if(t[n]&&t[n].length){var o=t[n]||[op.EMPTY_VALUE];r.identity_params[n]=[].concat(o)}else r.identity_params[n]=[op.EMPTY_VALUE]}),r)};function te(t,e){var r=Object.assign({},t);return e.forEach(function(t){null!==r[t]&&void 0!==r[t]&&delete r[t]}),r}var tr=function(t,e){if(!t)return{};var r={};return Object.keys(t).forEach(function(n){e[n]&&(r[n]=t[n])}),r};function tn(t,e,r){var n,o=r?t.bind(r):t;return function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];clearTimeout(n),n=setTimeout(function(){o.apply(void 0,r)},e)}}function to(t){return ti.apply(this,arguments)}function ti(){var t;return t=W().mark(function t(e){return W().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=500),t.abrupt("return",new Promise(function(t){setTimeout(function(){t(!0)},e)}));case 2:case"end":return t.stop()}},t)}),(ti=function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){K(i,n,o,a,c,"next",t)}function c(t){K(i,n,o,a,c,"throw",t)}a(void 0)})}).apply(this,arguments)}var ta=["input[type='button']","input[type='image']","input[type='submit']","button","[class*=btn]","[class*=Btn]","[class*=button]","[class*=Button]","[role*=button]","[id*=btn]","[id*=Btn]","[id*=button]","[id*=Button]","a"],tc=["[href^='tel:']","[href^='callto:']","[href^='sms:']","[href^='skype:']","[href^='whatsapp:']","[href^='mailto:']"];function ts(t,e){var r={};return t&&("string"==typeof t||"number"==typeof t?r.external_id=t.toString():U(t)&&(r=t)),e&&U(e)&&Object.assign(r,e),r}var tu=function(t){for(var e,r=Array.prototype.slice.call(document.getElementsByTagName("script")),n=0;n<r.length;n++){var o=r[n];if(o.innerHTML&&o.innerHTML.indexOf(t)>-1){e=o;break}}return e},tf=function(t){var e="unknown";try{var r=t&&tu(t);r&&(tl(r)&&(e="isInHead"),tp(r)&&(e="isInBodyTop10"))}catch(t){}return e},tl=function t(e){var r=e.parentElement;return!!r&&("HEAD"===r.tagName||t(r))},th=function(t,e){for(var r=[document.body],n=0;n<=t&&r.length;){var o,i=r.pop();if(i===e)return!0;if(!((null==i?void 0:i.tagName.toLowerCase())==="script"&&(null==(o=i.src)?void 0:o.indexOf("analytics.tiktok.com"))>-1)){if(n++,"object"==typeof i&&i.children)for(var a=i.children.length-1;a>=0;a--)r.push(i.children[a])}}return!1},tp=function(t){return th(10,t)};/function WeakSet\(\) \{[\s\S]*\[native code\][\s\S]*\}/.test(WeakSet.toString()),(nY=ob||(ob={})).EXTERNAL="external",nY.APP="app",nY.TIKTOK="tiktok";var td={ID:Symbol.for("ID"),Type:Symbol.for("type"),Partner:Symbol.for("partner"),Options:Symbol.for("Options"),Plugins:Symbol.for("Plugins"),Rules:Symbol.for("Rules"),Info:Symbol.for("Info"),ExtraParams:Symbol.for("extraParams"),WebLibraryInfo:Symbol.for("WebLibraryInfo"),SignalType:Symbol.for("SignalType"),IsOnsitePage:Symbol.for("IsOnsitePage")};(nJ=oI||(oI={}))[nJ.OFFSITE=0]="OFFSITE",nJ[nJ.ONSITE=1]="ONSITE";var tv=function(){var t,e;return(null==(t=g())||null==(e=t._env)?void 0:e.env)||ob.EXTERNAL},tg=function(){var t,e;return null!=(t=null==(e=g())?void 0:e._is_onsite)?t:oI.OFFSITE},ty=function(t){return(t||tv())!==ob.EXTERNAL},t_=function(t){return(t||tv())===ob.TIKTOK},tm=function(){var t=m();return/windows phone/i.test(t)?os.WINDOWS_PHONE:/android/i.test(t)?os.ANDROID:/iPad|iPhone|iPod/.test(t)?os.IOS:os.PC},tE=function(){try{return navigator.userAgentData.getHighEntropyValues(["model","platformVersion"])}catch(t){return Promise.resolve({})}},tb=function(){return"android"===tm()},tI=function(){return"ios"===tm()},tO=function(){return!1},tP=function(){return window.top!==window},tT=q(function(){return/open_news/i.test(m())}),tS=q(function(){return/ultralite/i.test(m())}),tN=function(){try{return window&&window.top&&window.top.location.href,!1}catch(t){return!0}},tR=function(){try{var t=new URL(decodeURIComponent(window.location.href)),e=/https?:\/\/[^\s/$.?#].[^\s]*/i;return e.test(t.search)||e.test(t.pathname)}catch(t){return!1}},tw=function(){try{if(!tN())return oh.NOT_CROSS_DOMAIN_IFRAME;if(tR())return oh.URL_IN_QUERY_IFRAME;if(window.google_tag_manager)return oh.GTM_IFRAME;if(window.name&&"web-pixel-sandbox"===window.name)return oh.SANDBOX_IFRAME;return oh.CROSS_DOMAIN_IFRAME}catch(t){return oh.UNKNOWN_IFRAME}},tL=function(){var t=m();if(t)for(var e=0,r=Object.values(ou);e<r.length;e++){var n=r[e];if(t.includes(n))return n}},tx=function(){var t=m();if(t){var e=t.match(/\bapp_version\/(\S*)/),r=e&&e[1]?e[1].match(/^\d+\.\d+\.\d+$/):void 0;return r?r[0]:void 0}},tA=function(){var t=m();if(t)for(var e=Object.keys(ou),r=0;r<e.length;r++){var n=RegExp("\\b"+ou[e[r]]+"_(\\S*)"),o=t.match(n),i=o&&o[1]?o[1].match(/^\d+\.\d+\.\d+$/):void 0;if(i)return i[0]}},tC=function(){var t=tL();if(!t||!s[t])return!1;var e=s[t],r=tm();if(!e[r])return!0;var n=tI()?tA():tb()?tx():null;return!!n&&tk(e[r],n)},tk=function(t,e){for(var r=t.split("."),n=e.split("."),o=0;o<Math.max(r.length,n.length);o++){var i=parseInt(r[o])||Number.MAX_VALUE,a=parseInt(n[o])||-1;if(i<a)break;if(i>a)return!1}return!0},tD=function(t){var e=tL();return void 0!==e&&t.has(e)},tj=function(){var t=d();try{return!!(t.Shopify&&t.Shopify.shop&&t.Shopify.shop.indexOf(".myshopify.com")>0||t.name&&t.name.startsWith("web-pixel-sandbox-CUSTOM-shopify"))}catch(t){}return!1},tM=function(){var t=g();return"object"==typeof t&&t._i?t._i:{}},tF=function(t,e){var r=tM()||{};Object.keys(r).forEach(function(n){var o=r[n];o._init||o.push([t].concat(e))})},tU=function(t,e,r){var n=(tM()||{})[t];if(n){if(n._init)return;n.push([e].concat(r))}};(nQ=oO||(oO={})).PIXEL_CODE="pixelCode",nQ.EVENT_SOURCE_ID="eventSourceId",nQ.SHOP_ID="shopId",(nX=oP||(oP={})).CLICK="click",nX.TOUNCH_START="touchStart",nX.POINTER_DOWN="pointerDown",(nq=oT||(oT={})).BEFORE_REPORT="beforeReport",nq.QUEUE="queue",(oS||(oS={})).UPDATE_CONFIG="observer:updateConfig";var tH={TTQ:Symbol.for("TTQ"),GLOBAL_TTQ:Symbol.for("GLOBAL_TTQ"),SHOPIFY_TTQ:Symbol.for("SHOPIFY_TTQ"),ENV:Symbol.for("ENV"),CONTEXT:Symbol.for("CONTEXT"),REPORTER:Symbol.for("REPORTER"),REPORTERS:Symbol.for("REPORTERS"),PLUGIN:Symbol.for("PLUGIN"),PLUGINS:Symbol.for("PLUGINS"),TTQ_GLOBAL_OPTIONS:Symbol.for("TTQ_GLOBAL_OPTIONS"),EVENT_EMITTER:Symbol.for("EVENT_EMITTER"),PERFORMANCE_PLUGIN:Symbol.for("PERFORMANCE_PLUGIN"),INTERACTION_PLUGIN:Symbol.for("INTERACTION_PLUGIN"),INTERACTION_PLUGIN_MONITOR:Symbol.for("INTERACTION_PLUGIN_MONITOR"),PERFORMANCE_PLUGIN_MONITOR:Symbol.for("PERFORMANCE_PLUGIN_MONITOR"),ADVANCED_MATCHING_PLUGIN:Symbol.for("ADVANCED_MATCHING_PLUGIN"),AUTO_ADVANCED_MATCHING_PLUGIN:Symbol.for("AUTO_ADVANCED_MATCHING_PLUGIN"),CALLBACK_PLUGIN:Symbol.for("CALLBACK_PLUGIN"),IDENTIFY_PLUGIN:Symbol.for("IDENTIFY_PLUGIN"),MONITOR_PLUGIN:Symbol.for("MONITOR_PLUGIN"),WEB_FL_PLUGIN:Symbol.for("WEB_FL_PLUGIN"),SHOPIFY_PLUGIN:Symbol.for("SHOPIFY_PLUGIN"),AUTO_CONFIG_PLUGIN:Symbol.for("AUTO_CONFIG_PLUGIN"),DIAGNOSTICS_CONSOLE_PLUGIN:Symbol.for("DIAGNOSTICS_CONSOLE_PLUGIN"),COMPETITOR_INSIGHT_PLUGIN:Symbol.for("COMPETITOR_INSIGHT_PLUGIN"),PANGLE_COOKIE_MATCHING_PLUGIN:Symbol.for("PANGLE_COOKIE_MATCHING_PLUGIN"),EVENT_BUILDER_PLUGIN:Symbol.for("EVENT_BUILDER_PLUGIN"),ENRICH_IPV6_PLUGIN:Symbol.for("ENRICH_IPV6_PLUGIN"),RUNTIME_MEASUREMENT_PLUGIN:Symbol.for("RUNTIME_MEASUREMENT_PLUGIN"),PAGE_PERFORMANCE_MONITOR:Symbol.for("PAGE_PERFORMANCE_MONITOR"),PAGE_INTERACTION_MONITOR:Symbol.for("PAGE_INTERACTION_MONITOR"),PAGEDATA_PLUGIN:Symbol.for("PAGEDATA_PLUGIN"),HISTORY_OBSERVER:Symbol.for("HISTORY_OBSERVER"),INTERACTION_OBSERVER:Symbol.for("INTERACTION_OBSERVER"),BATCH_SERVICE:Symbol.for("BATCH_SERVICE"),REPORT_SERVICE:Symbol.for("REPORT_SERVICE"),AD_SERVICE:Symbol.for("AD_SERVICE"),APP_SERVICE:Symbol.for("APP_SERVICE"),BRIDGE_SERVICE:Symbol.for("BRIDGE"),HTTP_SERVICE:Symbol.for("HTTP_SERVICE"),COOKIE_SERVICE:Symbol.for("COOKIE_SERVICE"),CONSENT_SERVICE:Symbol.for("CONSENT_SERVICE"),JS_BRIDGE:Symbol.for("JS_BRIDGE"),TTQ_REPORTERS:Symbol.for("TTQ_REPORTERS"),INTERACTION_MONITOR:Symbol.for("INTERACTION_MONITOR"),PERFORMANCE_MONITOR:Symbol.for("PERFORMANCE_MONITOR"),SANDBOX_PIXEL_API:Symbol("SANDBOX_PIXEL_API")};(nz=oN||(oN={})).INIT_START="initStart",nz.INIT_END="initEnd",nz.PATCH_END="patchEnd",nz.CONTEXT_INIT_START="contextInitStart",nz.CONTEXT_INIT_END="contextInitEnd",nz.PAGE_URL_WILL_CHANGE="pageUrlWillChange",nz.PAGE_URL_DID_CHANGE="pageUrlDidChange",nz.PAGE_DID_LOAD="pageDidLoad",nz.PAGE_WILL_LEAVE="pageWillLeave",nz.AD_INFO_INIT_START="adInfoInitStart",nz.AD_INFO_INIT_END="adInfoInitEnd",nz.BEFORE_AD_INFO_INIT_START="beforeAdInfoInitStart",nz.PIXEL_SEND="pixelSend",nz.PIXEL_DID_MOUNT="pixelDidMount",(nZ=oR||(oR={})).UNKNOWN="-1",nZ.LOADING="0",nZ.INTERACTIVE="1",nZ.COMPLETE="2",(n$=ow||(ow={})).HISTORY_CHANGE="hc",n$.URL_CHANGE="uc";var tG=["page","track","identify"],tV=["holdConsent","revokeConsent","grantConsent"],tB=["identify"],tW=["instance","instances","loadPixel","enableCookie","disableCookie","holdConsent","revokeConsent","grantConsent"];(n0=oL||(oL={})).EMPTY_EVENT_TYPE_NAME="EMPTY_EVENT_TYPE_NAME",n0.MISMATCHED_EVENT_TYPE_NAME_FOR_CUSTOM_EVENT="MISMATCHED_EVENT_TYPE_NAME_FOR_CUSTOM_EVENT",n0.LONG_EVENT_TYPE_NAME="LONG_EVENT_TYPE_NAME",n0.MISSING_VALUE_PARAMETER="MISSING_VALUE_PARAMETER",n0.MISSING_CURRENCY_PARAMETER="MISSING_CURRENCY_PARAMETER",n0.MISSING_CONTENT_ID="MISSING_CONTENT_ID",n0.MISSING_EMAIL_AND_PHONE="MISSING_EMAIL_AND_PHONE",n0.INVALID_EVENT_PARAMETER_VALUE="INVALID_EVENT_PARAMETER_VALUE",n0.INVALID_CURRENCY_CODE="INVALID_CURRENCY_CODE",n0.INVALID_CONTENT_ID="INVALID_CONTENT_ID",n0.INVALID_CONTENT_TYPE="INVALID_CONTENT_TYPE",n0.INVALID_EMAIL_FORMAT="INVALID_EMAIL_FORMAT",n0.INVALID_PHONE_NUMBER_FORMAT="INVALID_PHONE_NUMBER_FORMAT",n0.INVALID_EMAIL_INFORMATION="INVALID_EMAIL_INFORMATION",n0.INVALID_PHONE_NUMBER_INFORMATION="INVALID_PHONE_NUMBER_INFORMATION",n0.DUPLICATE_PIXEL_CODE="DUPLICATE_PIXEL_CODE",n0.MISSING_PIXEL_CODE="MISSING_PIXEL_CODE",n0.INVALID_PIXEL_CODE="INVALID_PIXEL_CODE";var tK=function(t,e,r){t.isBound(e)?t.rebind(e).toConstantValue(r):t.bind(e).toConstantValue(r)},tY=function(){var t=g();return t&&t._i||{}},tJ=function(t,e){var r,n=e.id,o=e.type,i=void 0===o?oO.PIXEL_CODE:o,a=e.info,c=e.options,s=e.plugins,u=void 0===s?{}:s,f=e.rules,l=t.get(tH.TTQ),h=t.get(tH.TTQ_REPORTERS);if(!h.some(function(t){return t.getReporterId()===n})){tK(t,td.ID,n),tK(t,td.Type,i),tK(t,td.Info,a||((r={})[i]=n,r)),tK(t,td.Options,void 0===c?{}:c),tK(t,td.Plugins,u),tK(t,td.Rules,void 0===f?[]:f),l.enableFirstPartyCookie((null==a?void 0:a.firstPartyCookieEnabled)||!1);var p=t.get(tH.REPORTER);if(u){var d=u.AdvancedMatching,v=u.AutoAdvancedMatching,g={};d&&Object.assign(g,d),v&&Object.assign(g,v),p.setAdvancedMatchingAvailableProperties(g)}return p.on(oT.BEFORE_REPORT,function(t,e,r,n,o){l.dispatch(oN.PIXEL_SEND,t,e,r,n,o)},{}),h.push(p),t.rebind(tH.TTQ_REPORTERS).toConstantValue(h),l.dispatch(oN.PIXEL_DID_MOUNT,p),p}},tQ=function(t,e){var r=t||{},n=r._partner,o=r._ttp,i=r._self_host_config,a=r._usd_exchange_rate,c=r._legacy;return Object.assign(e,{partner:n,ttp:o,cc:r._cc,self_host_config:i,usd_exchange_rate:a,legacy:c,variation_id:r._variation_id,vids:r._vids,server_unqiue_id:r._server_unique_id,currency_list:r._currency_list,plugins:r._plugins,aam:r._aam,auto_config:r._auto_config,cde:r._cde,cookieBasedSessionConfig:r._csid_config}),e},tX=function(t,e){var r=t.get(tH.TTQ_GLOBAL_OPTIONS)||{};tQ(e,r),t.isBound(tH.TTQ_GLOBAL_OPTIONS)?t.rebind(tH.TTQ_GLOBAL_OPTIONS).toConstantValue(r):t.bind(tH.TTQ_GLOBAL_OPTIONS).toConstantValue(r)},tq=function(t){var e=d(),r=v(),n=g(),o=L().pixelCode,i=void 0===o?"":o;tW.forEach(function(e){Object.defineProperty(n,e,{get:function(){return function(){try{var r=Array.prototype.slice.call(arguments);return tV.indexOf(e)>-1&&setTimeout(function(){N(of.CUSTOM_INFO,{pixelCode:i,custom_name:e})}),t[e].apply(t,r)}catch(t){return R(of.API_ERROR,t,{extJSON:{api:e}}),{}}}},set:function(){}})}),tG.forEach(function(e){Object.defineProperty(n,e,{get:function(){return function(){try{var r=1==arguments.length&&void 0===arguments[0]?[]:Array.prototype.slice.call(arguments);return tF(e,r),t[e].apply(t,r)}catch(t){return R(of.API_ERROR,t,{extJSON:{api:e}}),{}}}},set:function(){}})}),e[r]._mounted=!0,e[r].initialize=!0,p(e[r])},tz=function(t,e,r){tZ(e),Object.entries(tY()).forEach(function(n){var o=n[0],i=n[1];if(!i._init&&("Tealium"===I(o)||_()||i.info)&&(e.getReporter(o)?w(oL.DUPLICATE_PIXEL_CODE):(r||tJ)(t,{id:o,type:oO.PIXEL_CODE,info:i.info,options:i.options,rules:i.rules,plugins:i.plugins}),i._init=!0,i.length>0))for(;i.length;){var a=i.shift();if(a){var c=a[0],s=a.slice(1),u=e.instance(o);if(u)switch(c){case"identify":e.identify(s[0],s[1]);break;case"page":e.page(s[0]);break;case"track":u.track(s[0],s[1],s[2]||{});break;default:u[c]?u[c](s[0],s[1],s[2]||{}):R(of.CUSTOM_ERROR,Error("action not find: "+u[c]))}}}}),t$(e)},tZ=function(t){try{var e=g();[].concat(tV,tB).forEach(function(r){e.find(function(n,o){var i=n[0],a=n.slice(1);if(i===r)return t[r].apply(t,a),e.splice(o,1),!0})})}catch(t){R(of.API_ERROR,t,{extJSON:{api:"handleP0APICache"}})}},t$=function(t){var e=g();if(e.length>0)for(;e.length;){var r=e.shift();if(r){var n=r[0],o=r.slice(1);switch(!O("Tealium")&&tF(n,o),n){case"identify":t.identify(o[0],o[1]);break;case"page":t.page(o[0]);break;case"track":t.track(o[0],o[1],o[2]||{});break;case"enableCookie":t.enableCookie();break;case"disableCookie":t.disableCookie();break;case"holdConsent":t.holdConsent();break;case"revokeConsent":t.revokeConsent();break;case"grantConsent":t.grantConsent()}}}};function t0(t,e,r){return(t0=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}()?function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&t1(o,r.prototype),o}:Reflect.construct.bind()).apply(null,arguments)}function t1(t,e){return(t1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var t2="_ttq_inject",t3=function(){function t(){this.bindings={},this.rebind=this.bind}var e=t.prototype;return e.bind=function(t){var e=this;return{to:function(r){return e.bindings[t.toString()]={constructor:r,singleton:!1},e},toConstantValue:function(r){return e.bindings[t.toString()]={value:r,singleton:!0},e}}},e.isBound=function(t){return!!this.bindings[t.toString()]},e.inSingletonScope=function(){var t=Object.keys(this.bindings),e=t[t.length-1];if(e){var r=this.bindings[e];r&&(this.bindings[e]=Object.assign(Object.assign({},r),{singleton:!0}))}return this},e.get=function(t){var e=this.bindings[t.toString()];if(!e)throw Error("No binding found for identifier: "+String(t));return void 0!==e.value?e.value:e.singleton?(e.instance||(e.instance=this.createInstance(e.constructor)),e.instance):this.createInstance(e.constructor)},e.createInstance=function(t){var e=this;if(!t)throw Error("Cannot create instance because constructor is not defined.");var r=(t[t2]||[]).map(function(t){try{return e.get(t.identifier)}catch(e){if(t.optional)return;throw e}});return t0(t,r)},t}();function t6(){return function(t){}}function t5(t){return function(e,r,n){e[t2]=e[t2]||[],e[t2][n]=Object.assign({},e[t2][n],{identifier:t})}}function t8(){return function(t,e,r){t[t2]=t[t2]||[],t[t2][r]=Object.assign({},t[t2][r],{optional:!0})}}function t4(t,e){try{var r=new URL(t).searchParams.getAll(e);return r[r.length-1]||""}catch(t){return""}}(n1=ox||(ox={})).BIND="bind",n1.REBIND="rebind";var t9=function(t,e,r){try{var n=t4(e,t);if(n)return n;return t4(r||"",t)}catch(t){}return""},t7=function(){if(!tP())return{url:window.location.href,referrer:document.referrer,title:document.title};if(!tN()){var t,e,r,n,o,i;return{url:(null==(t=window)||null==(e=t.top)?void 0:e.location.href)||"",referrer:(null==(r=window)||null==(n=r.top)?void 0:n.document.referrer)||"",title:(null==(o=window)||null==(i=o.top)?void 0:i.document.title)||""}}var a=document.title,c=window.location.href,s=document.referrer;if(/doubleclick\.net/.test(window.location.hostname)){var u=window.location.pathname,f={};return u.split(";").forEach(function(t){var e=t.split("="),r=e[0],n=e[1];r&&n&&(f[r]=decodeURIComponent(n))}),{url:f["~oref"]||c,referrer:s,title:a}}return{url:c,referrer:s,title:a}},et=function(t){var e=t7().url;try{return new URL(t||e)}catch(t){}return null},ee=function(t){try{var e=window.sessionStorage.getItem(t);if(!e)return null;return JSON.parse(e)}catch(t){return null}},er=function(t){try{window.sessionStorage.removeItem(t)}catch(t){}},en=function(t,e){try{var r=JSON.stringify(e);window.sessionStorage.setItem(t,r)}catch(t){}},eo="https://analytics.tiktok.com/api/v2",ei=eo+"/pixel",ea=eo+"/performance",ec=eo+"/interaction",es=eo+"/performance_interaction",eu=eo+"/pixel/perf",ef=eo+"/pixel/inter",el=eo+"/pixel/act",eh="https://analytics-ipv6.tiktokw.us/ipv6/enrich_ipv6",ep="ttclid",ed="_toutiao_params",ev=function(t,e){try{var r=t9(ep,t,e)||void 0,n=t9("ext_params",t,e)||void 0,o=t9(ed,t,e)||void 0,i=parseInt(t9("ttuts",t,e),10)||void 0,a=o?JSON.parse(o):{},c=a.log_extra,s=void 0===c?void 0:c,u=a.idc,f=void 0===u?void 0:u,l=a.cid,h=void 0===l?void 0:l;return{callback:r,ext_params:n,log_extra:s,creative_id:h,idc:f,ttuts:i,ad_info_from:(s||f||h)&&"url"}}catch(t){return{}}},eg=function(t,e){try{var r=t.log_extra,n=t.ttuts;if(!tI())return!0;if(!t_(e)){if(null!=n)return 1!==n;return!0}if(r){var o=JSON.parse(r);return 1!==o.user_tracking_status}if(null===t.ATTStatus||void 0===t.ATTStatus)return!0;return 3===t.ATTStatus}catch(t){return!1}},ey=function(t,e){var r={};try{var n=t.creative_id,o=(t.callback,t.idc),i=t.convert_id,a=t.ad_info_from,c=t.ad_info_status,s=t.log_extra,u=t.ext_params,f=t.ATTStatus;if(n&&(r.creative_id=n),o&&(r.idc=o),i&&(r.convert_id=i),a&&(r.ad_info_from=a),c&&(r.ad_info_status=c),u&&(r.ext_params=u),f&&(r.ATTStatus=f),s){var l=JSON.parse(s),h=l.ad_user_agent,p=l.ad_id,d=l.rit,v=l.ocbs,g=l.vid,y=l.idc,_=l.country_id;p&&(r.ad_id=p),d&&(r.rit=d),h&&(r.ad_user_agent=h),v&&(r.ocbs=v),g&&(r.vid=g),y&&(r.idc=y),_&&(r.country_id=_)}return r}catch(t){return e&&e(t),r}},e_=function(t){void 0===t&&(t={});var e=Object.assign({},{path:"/"},t);"number"==typeof e.expires&&(e.expires=new Date(Date.now()+864e5*e.expires)),e.expires instanceof Date&&(e.expires=e.expires.toUTCString());var r="";for(var n in e)e[n]&&(r+="; "+n,!0!==e[n]&&(r+="="+e[n].split(";")[0]));return r},em=function(t,e,r,n){void 0===r&&(r="/"),void 0===n&&(n=new Date(Date.now()+864e5).toUTCString()),eT(t,e,{path:r,expires:n})},eE=function(t){return t&&t.cde?Object.assign({},u,{expires:t.cde}):u},eb=0,eI=0,eO=function(t){var e={};return document.cookie.split(";").forEach(function(t){var r=t.split("=");e[r[0].trim()]=r.slice(1).join("=")}),e[t]||""},eP=function(t){if(0===document.cookie.length)return"";var e=eO(t);return e?unescape(e):""},eT=function(t,e,r){try{if(r){var n=window.location.hostname.split(".");if(eI=n.length,(eb=eR())&&eb<eI){r.domain="."+n.slice(eI-eb-1).join("."),ew(t,e,r);return}for(var o="",i=0;i<eI&&(r.domain=o="."+n[eI-i-1]+o,eb=i,!ew(t,e,r));i++);}else document.cookie=t+"="+e+e_(r)}catch(t){R(of.API_ERROR,t,{extJSON:{position:"setCookieToHighestDomain"}})}},eS=function(t){var e=t.index,r=t.main;sessionStorage.setItem(a,JSON.stringify({index:e,main:r}))},eN=function(t){var e=t.split(".");return e.length>=3&&e.includes("tt")&&!isNaN(Number(e[2]))&&Number(e[2])>0},eR=function(){if(eb)return eb;var t=eP(o);return t&&eN(t)?Number(t.split(".")[2]):0},ew=function(t,e,r){var n;return t!==o||eN(e)||(e=(n=e)?n.split(".")[0]+".tt."+(tj()?0:eR()):""),document.cookie=t+"="+e+e_(r),e===eP(t)},eL=function(t,e,r){void 0===t&&(t=""),void 0===e&&(e="");try{var n=t9("tt_test_id",t,r);return n&&n!==e&&em("tt_test_id",n,void 0,"session"),n||e}catch(t){return""}};function ex(){return(ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var eA=function(t,e){var r;return!!(null!=e&&null!=(r=e.cookieBasedSessionConfig)&&r.enable&&t.firstPartyCookieEnabled)},eC=function(){var t=new Date().getTime();return{sessionId:t.toString()+"::"+z(20),sessionCount:1,lastEventTS:t,isSessionStart:!0}},ek=function(t){var e={};return t.split("; ").forEach(function(t){var r=t.split("="),n=r[0],o=r[1];if(n.startsWith(c)){var i=n.replace(c,"").replace("_",""),a=o.split("."),s=a[0],u=a[1],f=a[2];s&&B(u)&&B(f)&&(e[i]={sessionId:s,sessionCount:Number(u),lastEventTS:Number(f)})}}),e},eD=function(t){var e=t.sessionCount,r=t.lastEventTS,n=new Date().getTime();return n-r>18e5?{sessionId:n.toString()+"::"+z(20),sessionCount:e+1,lastEventTS:n,isSessionStart:!0}:ex({},t,{lastEventTS:n,isSessionStart:!1})},ej=function(t,e,r){var n=t.sessionId,o=t.sessionCount,i=t.isSessionStart;return Object.assign({csid:n,page_csid:e.sessionId,csct:o},i?{css:1}:{},r?{pixel_code:r}:{})},eM=function(){function t(t){this.pixelCode="",this.loaded=!1,this.status=1,this.name="",this.advertiserID="",this.setupMode=0,this.partner="",this.reporterInfo={},this.plugins={},this.options={},this.rules=[],this.pixelCode=t}var e=t.prototype;return e.getParameterInfo=function(){return Promise.resolve({pixelCode:this.pixelCode,name:this.name,status:this.status,setupMode:this.setupMode,advertiserID:this.advertiserID,partner:this.partner,is_onsite:!1,advancedMatchingAvailableProperties:{}})},e.getReporterId=function(){return""},e.getReporterUniqueLoadId=function(){return""},e.getReporterPartner=function(){},e.getReporterInfo=function(){return{reporter:{}}},e.getReportResultSet=function(){return[]},e.isOnsite=function(){return!1},e.isPartnerReporter=function(){return!1},e.setAdvancedMatchingAvailableProperties=function(t){},e.clearHistory=function(){},e.page=function(t){},e.track=function(t,e,r){return Promise.resolve(null)},e.getUserInfo=function(t){return{}},e.getReporterMatchedUserFormatInfo=function(){return{}},e.getReporterMatchedUserFormatInfoV2=function(){return{}},e.assemblyData=function(){return{event:"",message_id:"",event_id:"",is_onsite:!1,properties:{},context:{ad:{},device:{},library:{name:"",version:""},page:{url:""},pageview_id:"",session_id:"",variation_id:"",user:{}},partner:"",timestamp:""}},e.assemblySelfHostData=function(){return this.assemblyData()},e.trackSync=function(){},e.getReportEventHistoryKey=function(t){return"tiktok"},e.hasReportEventHistory=function(t,e){return!1},e.getCookieBasedSession=function(){return eC()},e.setCookieBasedSession=function(t){},t}();new eM("empty");var eF=function(){function t(t,e,r){this.initialize=!1,this.plugins=[],this.observers=[],this.reporters=[],this.context=t,this.reportService=e,r&&(this.emitter=r)}var e=t.prototype;return e.init=function(t,e){this.initContextInfo(t,e),this.initialize=!0},e.initContextInfo=function(t,e){var r=this;this.dispatch(oN.CONTEXT_INIT_START),this.initAdInfo(t,e),this.initAppInfo(t,e),this.initLocalServiceInfo(),this.reportService.pushPreposition(Promise.resolve().then(function(){return r.initUserInfo()})),this.initTestId(t,e),this.dispatch(oN.CONTEXT_INIT_END)},e.setPageIndex=function(t){},e.setPageInfo=function(t,e){var r=this.context.getPageInfo().url;if(r!==t){this.dispatch(oN.PAGE_URL_WILL_CHANGE,e||r,t);var n=this.context.setPageInfo(t,e||r);(null==n?void 0:n.pageIndex)&&this.setPageIndex(n.pageIndex),this.dispatch(oN.PAGE_URL_DID_CHANGE,t,r)}},e.initAdInfo=function(t,e){},e.initOffsiteAdInfo=function(t){},e.initAppInfo=function(t,e){},e.initUserInfo=function(){},e.initTestId=function(t,e){},e.usePlugin=function(t){try{if(!this.plugins.find(function(e){return e.name===t.name})){this.plugins.push(t);var e=t.name;e&&(this[e[0].toLowerCase()+e.slice(1)+"Plugin"]=t)}}catch(t){}},e.useObserver=function(t){try{if(!this.observers.find(function(e){return e.name===t.name})){this.observers.push(t);var e=t.name;e&&(this[""+(e[0].toLowerCase()+e.slice(1))]=t)}}catch(t){}},e.getPlugin=function(t){return this.plugins.find(function(e){return e.name===t})||null},e.getReporter=function(t){return this.reporters.find(function(e){return e.getReporterId()===t})},e.instance=function(t){var e=this.getReporter(t);return e||(R(of.PIXEL_EMPTY,Error(""),{pixelCode:t}),new eM(t))},e.instances=function(){return this.reporters},e.identify=function(t,e){var r=ts(t,e);this.context.setUserInfo(r)},e.page=function(t){t.url!==this.context.getPageInfo().url&&(this.setPageInfo(t.url,t.referrer),this.reporters.forEach(function(t){t.clearHistory()}));var e=Object.assign({},t);delete e.url,delete e.referrer,this.reporters.forEach(function(t){t.page(e)})},e.isOnsitePage=function(){return this.context.getSignalType()===oI.ONSITE||this.reporters.every(function(t){return t.isOnsite()})},e.track=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r={}),this.instances().forEach(function(n,o){n.track(t,e,Object.assign({_i:o},r))})},e.dispatch=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];this.plugins.concat(this.observers).forEach(function(e){if("function"==typeof e[t])try{e[t].apply(e,r)}catch(n){R(of.PLUGIN_ERROR,n,{extJSON:{plugin_name:e.name,cycle_name:t,data:r}})}})},e.getAllReportResultSet=function(){return this.instances().reduce(function(t,e){return t.concat(e.getReportResultSet())},[])},e.resetCookieExpires=function(){},e.enableCookie=function(){},e.disableCookie=function(){},e.enableFirstPartyCookie=function(t){},e.holdConsent=function(){},e.revokeConsent=function(){},e.grantConsent=function(){},e.initLocalServiceInfo=function(){},e.getEmitter=function(){return this.emitter},t}();function eU(){eU=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i,a,c,s,u=Object._ttq_create((e&&e.prototype instanceof h?e:h).prototype);return n(u,"_invoke",{value:(i=t,a=r,c=new O(o||[]),s="suspendedStart",function(t,e){if("executing"===s)throw Error("Generator is already running");if("completed"===s){if("throw"===t)throw e;return T()}for(c.method=t,c.arg=e;;){var r=c.delegate;if(r){var n=function t(e,r){var n=r.method,o=e.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+n+"' method")),l;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,l;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,l):a:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,l)}(r,c);if(n){if(n===l)continue;return n}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===s)throw s="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s="executing";var o=f(i,a,c);if("normal"===o.type){if(s=c.done?"completed":"suspendedYield",o.arg===l)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(s="completed",c.method="throw",c.arg=o.arg)}})}),u}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function h(){}function p(){}function d(){}var v={};s(v,i,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==e&&r.call(y,i)&&(v=y);var _=d.prototype=h.prototype=Object._ttq_create(v);function m(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;n(this,"_invoke",{value:function(n,i){function a(){return new e(function(o,a){!function n(o,i,a,c){var s=f(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return n("throw",t,a,c)})}c(s.arg)}(n,i,o,a)})}return o=o?o.then(a,a):a()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=d,n(_,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(_),t},t.awrap=function(t){return{__await:t}},m(E.prototype),s(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},m(_),s(_,c,"Generator"),s(_,i,function(){return this}),s(_,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function eH(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){r(t);return}c.done?e(s):Promise.resolve(s).then(n,o)}eF=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([t6()],eF);var eG=(n2=eU().mark(function t(e,r){return eU().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===r&&(r=1),!(r>=0)){t.next=13;break}return t.prev=2,t.next=5,function(t){return new Promise(function(e,r){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=t;var o=document.getElementsByTagName("script")[0];o&&o.parentNode?o.parentNode.insertBefore(n,o):r("none element"),n.onload=function(){e(!0)},n.onerror=r})}(e);case 5:return t.abrupt("return",Promise.resolve(!0));case 8:return t.prev=8,t.t0=t.catch(2),t.abrupt("return",eG.call(null,e,r-1));case 11:t.next=14;break;case 13:throw Error;case 14:case"end":return t.stop()}},t,null,[[2,8]])}),n3=function(){var t=this,e=arguments;return new Promise(function(r,n){var o=n2.apply(t,e);function i(t){eH(o,r,n,i,a,"next",t)}function a(t){eH(o,r,n,i,a,"throw",t)}i(void 0)})},function(t,e){return n3.apply(this,arguments)});(n6=oA||(oA={})).TRACK="track",n6.PERFORMANCE="performance",n6.INTERACTION="interaction",n6.PCM="PCM",n6.PERFORMANCE_INTERACTION="performance_interaction",n6.SELFHOST="selfhost",n6.AUTO_CONFIG="auto_config",n6.PAGE="Pf",n6.PAGE_PERFORMANCE="page_performance",n6.PAGE_INTERACTION="page_interaction";var eV=["EnrichAM"];(n5=oC||(oC={})).LDU="limited_data_use",n5.EVENTID="eventID",n5.EVENT_ID="event_id",(n8=ok||(ok={}))[n8.defaultReport=0]="defaultReport",n8[n8.httpReport=1]="httpReport",n8[n8.htmlHttpReport=2]="htmlHttpReport",(n4=oD||(oD={}))[n4.P0=0]="P0",n4[n4.P1=1]="P1",n4[n4.P2=2]="P2";var eB=["ttuts","ad_info_from"],eW=[],eK=["AED","ALL","AMD","ARS","AUD","AZN","BDT","BGN","BHD","BIF","BOB","BRL","BYN","CAD","CHF","CLP","CNY","COP","CRC","CZK","DKK","DOP","DZD","EGP","EUR","GBP","GEL","GTQ","HKD","HNL","HUF","IDR","ILS","INR","IQD","ISK","JOD","JPY","KES","KHR","KRW","KWD","KZT","LBP","MAD","MOP","MXN","MYR","NGN","NIO","NOK","NZD","OMR","PAB","PEN","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","SAR","SEK","SGD","THB","TND","TRY","TWD","TZS","UAH","USD","UZS","VES","VND","ZAR"],eY=function(){function t(){this.subscriberMap=new window[window.TiktokAnalyticsObject || "ttq"]._ttq_map}var e=t.prototype;return e.on=function(t,e,r,n){try{n&&(n.emitterType=n.emitterType||t,this.emit(oS.UPDATE_CONFIG,n));var o=Object.assign({throttle:!1,debounce:!1,once:!1,interval:500},r),i=this.subscriberMap.get(t)||[];if(i.some(function(t){return t.originalCallback===e}))return;i.push({originalCallback:e,wrappedCallback:this.wrapCallback(e,o),options:o,observerConfig:n}),this.subscriberMap.set(t,i)}catch(e){R(of.CUSTOM_ERROR,e,{custom_name:"EventEmitter",custom_enum:t})}},e.emit=function(t){for(var e=this,r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];(this.subscriberMap.get(t)||[]).forEach(function(r){try{r.wrappedCallback.apply(r,n)}catch(r){R(of.CUSTOM_ERROR,r,{custom_name:"EventEmitter",custom_enum:t,extJSON:{message:""+JSON.stringify(e.subscriberMap.get(t))}})}})},e.off=function(t,e){var r=this.subscriberMap.get(t)||[];this.subscriberMap.set(t,r.filter(function(t){return t.originalCallback!==e}))},e.clear=function(){this.subscriberMap.clear()},e.wrapCallback=function(t,e){var r;return e.async&&(r=t,t=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];Promise.resolve().then(function(){return r.apply(void 0,e)})}),e.throttle&&(t=V(t,e.interval||500)),e.debounce&&(t=tn(t,e.interval||500)),e.once&&(t=q(t)),t},t}();eY=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([t6()],eY);var eJ=function(t,e){if("selfhost"===t&&e&&E(e))return"https://"+E(e)+"/api/v2/pixel";var r={track:ei,performance:ea,interaction:ec,performance_interaction:es,auto_config:el,page_performance:eu,page_interaction:ef}[t];return r||null};function eQ(){return(eQ=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function eX(t,e){return(eX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var eq=function(t){function e(e,r){var n;return(n=t.call(this)||this).reporterInfo={},n.options={},n.plugins={},n.rules=[],n.reportEventHistory={},n.reportResultSet=[],n.selfHostConfig={},n.currentHref="",n.advancedMatchingAvailableProperties={external_id:!0,partner_id:!0},n.session=eC(),n.reportService=r,n.context=e,n}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,eX(e,t);var r=e.prototype;return r.getParameterInfo=function(){var t=this;return this.getInstance().then(function(){var e=t.reporterInfo,r=e.name,n=e.status,o=e.setupMode,i=e.advertiserID,a=e.is_onsite;return{pixelCode:t.getReporterId(),name:void 0===r?"":r,status:void 0===n?1:n,setupMode:void 0===o?0:o,advertiserID:(void 0===i?"":i).toString(),partner:t.getReporterPartner()||"",is_onsite:void 0!==a&&a,advancedMatchingAvailableProperties:t.advancedMatchingAvailableProperties,rules:t.rules}})},r.getInstance=function(){return this.pixelPromise=Promise.resolve(this)},r.getReporterId=function(){return""},r.getReporterUniqueLoadId=function(){return""+this.getReporterId()},r.getReporterPartner=function(){},r.getReporterInfo=function(){return{pixel:{code:this.getReporterId()}}},r.setAdvancedMatchingAvailableProperties=function(t){this.advancedMatchingAvailableProperties=Object.assign({},this.advancedMatchingAvailableProperties,t)},r.isOnsite=function(){return!1},r.isPartnerReporter=function(){return!1},r.getReportResultSet=function(){return this.reportResultSet},r.getUserInfo=function(t){return{}},r.getReporterMatchedUserFormatInfo=function(){return{}},r.getReporterMatchedUserFormatInfoV2=function(){return{}},r.getReportEventHistoryKey=function(t){return"tiktok"},r.getCookieBasedSession=function(){return this.session},r.setCookieBasedSession=function(t){t&&(this.session=t)},r.convertCookieBasedSession=function(t){return{}},r.clearHistory=function(){this.reportEventHistory={}},r.pushReport=function(t,e){void 0===e&&(e="tiktok"),this.reportEventHistory[e]||(this.reportEventHistory[e]=[]),this.reportEventHistory[e].push(t)},r.hasReportEventHistory=function(t,e){var r=this.getReportEventHistoryKey(e);return this.reportEventHistory[r]?!!(eW.includes(t)&&this.reportEventHistory[r].includes(t)):(this.reportEventHistory[r]=[],!1)},r.page=function(t){void 0===t&&(t={})},r.track=function(t,e,r,n,o){var i=this,a=n||oA.TRACK,c=o||ok.defaultReport;return!this.reportService||this.hasReportEventHistory(t,c)?Promise.resolve(null):(this.pushReport(t,this.getReportEventHistoryKey(c)),this.reportService.reportPreTasks.then(function(){var n=i.getReporterId(),o=i.trackSync(n,t,e,r,a,c);return i.trackPostTask({reporterId:n,eventType:t,properties:e,eventConfig:r,type:a,reportType:c,reportData:o}),Promise.resolve({reporterId:n,eventType:t,properties:e,eventConfig:r,type:a,reportType:c,reportData:o})}))},r.getEventType=function(t){return t},r.trackPostTask=function(t){},r.trackSync=function(t,e,r,n,o,i,a){void 0===o&&(o=oA.TRACK),void 0===i&&(i=ok.defaultReport);var c=o!==oA.SELFHOST?this.assemblyData(t,e,r,n,o):this.assemblySelfHostData(t,e,r,n,o),s=a||eJ(o,t);if(null!==s&&this.reportService)return this.emit(oT.BEFORE_REPORT,t,e,c,n,o),this.reportResultSet.push(this.reportService.report(s,c,i,oD.P0)),c},r.handlePropertiesToOptions=function(t,e){var r={};return e.forEach(function(e){r[e]=t[e],delete t[e]}),r},r.assemblyData=function(t,e,r,n,o){void 0===r&&(r={}),void 0===n&&(n={}),void 0===o&&(o=oA.TRACK);var i=this.context.getAllData(),a=i.adInfo,c=i.userInfo,s=i.appInfo,u=i.pageSign,f=i.libraryInfo,l=i.pageInfo,h=i.signalType,p=u.sessionId,d=u.variationId,v=Object.assign({},r),g=v&&v.is_standard_mode;v&&v.pixelMethod&&delete v.pixelMethod;var _=Object.assign({},f,{version:this.context.isLegacyPixel(t)?"legacy-"+f.version:f.version}),m=Object.assign({},te(a,eB),{device_id:s.device_id,uid:s.user_id}),E=this.handlePropertiesToOptions(v,[oC.LDU,oC.EVENTID,oC.EVENT_ID]),b=this.options.limited_data_use,I=null!==E.limited_data_use&&void 0!==E.limited_data_use?E.limited_data_use:b;null==I?delete E.limited_data_use:E.limited_data_use=!!I;var O=n&&(n.event_id||n.eventID)||"";E.event_id=O||E.event_id||E.eventID||"",delete E.eventID;var P=this.getReporterInfo();P.pixel&&(P.pixel.runtime=y()?oh.WEB_WORKER:tP()?tw():oh.NORMAL,g&&(P.pixel.mode="standard"));var T=this.getUserInfo(ov.Manual)||{},S=this.getUserInfo(ov.ManualV2)||{},N=this.getReporterMatchedUserFormatInfoV2()||{},R=this.getUserInfo(ov.Auto)||{};R.auto_trigger_type&&(Object.assign(v,{auto_trigger_type:R.auto_trigger_type}),delete R.auto_trigger_type);var w=this.getUserInfo(ov.EBManual)||{};tb()&&Object.assign(v,{android_version:s.android_version,device_model:s.device_model});var L={};c.anonymous_id&&(L.anonymous_id=c.anonymous_id);var x=this.getEventType(e),A=this.convertCookieBasedSession(o);return Object.assign({event:x,event_id:O,message_id:G(H("messageId"),t),is_onsite:!!h,timestamp:new Date().toJSON(),context:eQ({ad:m,device:{platform:s.platform},user:Object.assign({},L,T,S,R,w)},P,{page:Object.assign({},l),library:Object.assign({},_),session_id:G(p,t),pageview_id:G(this.context.getPageViewId(),this.getReporterUniqueLoadId(),"::"),variation_id:d||""},A),_inspection:N,properties:v},E)},r.assemblySelfHostData=function(t,e,r,n,o){return void 0===r&&(r={}),void 0===n&&(n={}),this.assemblyData(t,e,r,n,o)},e}(eY);eq=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([t6()],eq);var ez={ViewForm:"ViewContent",ViewConsultationPage:"ViewContent",ViewDownloadPage:"ViewContent",Checkout:"PlaceAnOrder",Registration:"CompleteRegistration",AddBilling:"AddPaymentInfo",StartCheckout:"InitiateCheckout",ClickInDownloadPage:"ClickButton",ClickInConsultationPage:"ClickButton",ClickForm:"ClickButton",ClickToDownload:"Download",Consult:"Contact",ConsultByPhone:"Contact",CompletePayment:"Purchase",SubmitForm:"Lead"},eZ=["event_experiment","dynamic_parameter_config","eb_version","eb_rule_id","tf"],e$=function(t){var e=t.getUserInfo().anonymous_id,r=eP(o);e!==r&&t.setUserInfoWithoutIdentifyPlugin({anonymous_id:r})},e0=function(t,e,r){try{var n=window.location.hostname.split(".");if(void 0!==oj&&oj<n.length){document.cookie=t+"="+e+e_(Object.assign({},r,{domain:"."+n.slice(oj).join(".")}));return}for(var o=n.length-2;o>=0;o--){var i="."+n.slice(o).join(".");if(document.cookie=t+"="+e+e_(Object.assign({},r,{domain:i})),eP(t)===e){oj=o;break}}}catch(t){}},e1=function(t,e,r){var n,o=eC();return e&&(o=eD(e)),e0(t?c+"_"+t:c,(n=o).sessionId+"."+n.sessionCount+"."+n.lastEventTS,eE(r)),o};function e2(t,e){return(e2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var e3=function(t){function e(e){var r,n,o=e.id,i=e.type,a=e.isOnsitePage,c=e.context,s=e.reporterInfo,u=e.ttqOptions,f=e.reportService,l=e.plugins,h=e.rules,p=e.options;return(n=t.call(this,c,f)||this).ttp="",n.loaded=!1,n.id=o,n.pixelCode=o,n.type=i,n.isOnsitePage=a,n.options=(void 0===p?{}:p)||{},n.plugins=(void 0===l?{}:l)||{},n.rules=(void 0===h?[]:h)||[],n.reporterInfo=Object.assign(s||{},((r={})[i]=o,r)),n.ttp=u.ttp||"",n.currency_list=u.currency_list||null,n.ttqPartner=u.partner||"",n.selfHostConfig=u.self_host_config||{},n.ttqOptions=u,n.pixelPromise=n.getInstance(),n}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,e2(e,t);var r=e.prototype;return r.identify=function(t,e){var r=ts(t,e);this.context.setUserInfo(r)},r.getReporterId=function(){return this.id||""},r.getReporterUniqueLoadId=function(){return this.reporterInfo.loadId+"-"+this.getReporterId()},r.getReporterPartner=function(){var t;return(null==(t=this.reporterInfo)?void 0:t.partner)||""},r.setPixelInfo=function(t,e,r){var n,o=this.type;this.reporterInfo=Object.assign(this.reporterInfo,Object.assign({},t),((n={})[o]=this.getReporterId(),n)),e&&(this.rules=e),r&&(this.plugins=r)},r.getInstance=function(){return Promise.resolve(this)},r.getReporterInfo=function(){return this.reporterInfo.pixelCode?t.prototype.getReporterInfo.call(this):{shop_id:this.reporterInfo.shopId,eventSourceId:this.reporterInfo.eventSourceId}},r.getUserInfo=function(t){var e=this.context.getUserInfo(),r=tr(e,Object.assign({},this.advancedMatchingAvailableProperties));switch(t){case ov.Manual:return tr(this.isPartnerReporter()?r:e,{external_id:!0,email:!0,phone_number:!0,ttoclid:!0});case ov.ManualV2:return tr(this.isPartnerReporter()?r:e,{first_name:!0,last_name:!0,city:!0,state:!0,country:!0,zip_code:!0,partner_id:!0,ttoclid:!0});case ov.EBManual:return tr(e,{eb_email:!0,eb_phone_number:!0});case ov.Auto:var n=tr(r,{external_id:!0,auto_email:!0,auto_phone_number:!0,ttoclid:!0});return Object.assign(n,(n.auto_email||n.auto_phone_number)&&e.auto_trigger_type?{auto_trigger_type:e.auto_trigger_type}:{});default:return r}},r.getReporterMatchedUserFormatInfo=function(){var t=this.context.getUserFormatInfo(),e=tt(t,this.isPartnerReporter()?this.advancedMatchingAvailableProperties:{external_id:!0,email:!0,phone_number:!0}),r=tr(t,{auto_email:!0,auto_phone_number:!0});return Object.keys(r).length>0&&(e.identity_params||(e.identity_params={}),Object.assign(e.identity_params,r)),e},r.getReporterMatchedUserFormatInfoV2=function(){return $(this.context.getUserFormatInfoV2(),this.isPartnerReporter()?this.advancedMatchingAvailableProperties:{external_id:!0,email:!0,phone_number:!0,first_name:!0,last_name:!0,city:!0,state:!0,country:!0,zip_code:!0,partner_id:!0})},r.isOnsite=function(){var t;return!!(null==(t=this.reporterInfo)?void 0:t.is_onsite)},r.isPartnerReporter=function(){var t=this.getReporterPartner();return!!(t&&"None"!==t)},r.getSignalDiagnosticLabels=function(){var t=this.context.getSignalDiagnosticLabels();if(!t)return Object.assign({},D);var e=this.advancedMatchingAvailableProperties,r=e.email,n=e.phone_number,o=e.auto_email,i=e.auto_phone_number;return Object.assign({},D,tr(t,{raw_email:r=!this.isPartnerReporter()||r,raw_phone:n=!this.isPartnerReporter()||n,hashed_email:r,hashed_phone:n,raw_auto_email:o,raw_auto_phone:i,raw_eb_email:!0,raw_eb_phone:!0}))},r.setCookieBasedSession=function(t){t&&(this.session=t)},r.convertCookieBasedSession=function(t){return eA(this.reporterInfo,this.ttqOptions)&&t!==oA.AUTO_CONFIG?ej(this.getCookieBasedSession(),this.context.getPageCookieBasedSession()):{}},r.assemblyData=function(e,r,n,o,i){void 0===n&&(n={}),void 0===o&&(o={}),void 0===i&&(i=oA.TRACK);var a,c,s=t.prototype.assemblyData.call(this,e,r,n,o,i);s.is_onsite=this.isOnsitePage.value;var u=I(e)||this.ttqPartner;u&&(s.partner=u),s.signal_diagnostic_labels=this.getSignalDiagnosticLabels();var f=m();f&&(s.context.userAgent=f);var l=function(){try{var t=document.readyState;if("loading"==t)return oR.LOADING;if("interactive"==t)return oR.INTERACTIVE;if("complete"==t)return oR.COMPLETE;return oR.UNKNOWN}catch(t){return oR.UNKNOWN}}();return l&&(s.context.page.load_progress=l),a=s.properties,void 0===(c=s._inspection)&&(c={}),eZ.forEach(function(t){a.hasOwnProperty(t)&&(c[t]=a[t],delete a[t])}),s._inspection=c,i!==oA.PAGE&&(s._inspection.ppf=T()),s._inspection.vids=this.context.getVids(),s.context.ad.sdk_env=tv(),s.context.ad.jsb_status=function(){try{var t,e;return[ol.INVOKE_METHOD_ENABLED,ol.INVOKE_METHOD_NOT_ENABLED][[!!(null!=(t=window)&&null!=(e=t.ToutiaoJSBridge)&&e.invokeMethod),!0].findIndex(function(t){return t})]}catch(t){return ol.NOT_SURE}}(),i!==oA.INTERACTION&&i!==oA.PERFORMANCE&&i!==oA.PERFORMANCE_INTERACTION||!1!==this.context.getEnableAdTracking()||this.isOnsitePage.value||(s.context.user={},s.context.ad=this.context.getOffsiteAdInfo(),s.context.ad=te(s.context.ad,eB)),s},r.page=function(t){void 0===t&&(t={});var e=t7().url;e!==this.currentHref&&(this.currentHref=e,this.track("Pageview",t,{}))},r.track=function(e,r,n,o,i){var a=this;void 0===r&&(r={}),void 0===n&&(n={}),void 0===o&&(o=oA.TRACK),void 0===i&&(i=ok.defaultReport);var c=function(){var c=a.getReporterId();if(eV.includes(e))return t.prototype.track.call(a,e,r,n,o,i);var s=Object.assign({},n);return a.selfHostConfig[c]&&!n.eventID&&(s=Object.assign({},s,{eventID:G(H("default_eventId"),c)})),t.prototype.track.call(a,e,r,s,o,i)};return this.loaded?c():this.getInstance().then(c)},r.getEventType=function(t){return ez[t]||t},r.trackSync=function(e,r,n,o,i,a,c){if(void 0===n&&(n={}),void 0===o&&(o={}),void 0===i&&(i=oA.TRACK),void 0===a&&(a=ok.defaultReport),"track"===i&&N(of.PIXEL_SEND,{pixelCode:e,extJSON:{event:r}}),i!==oA.TRACK)return void t.prototype.trackSync.call(this,e,r,n,o,i,a,c);n&&"string"==typeof n.currency&&(n.currency=n.currency.toUpperCase());var s,u=this.context.getTestID();if(u){var f=this.assemblyData(e,r,n,o);return f.tt_test_id=u,f.context.ad={},null==(s=this===null||void 0===this?void 0:this.reportService)||s.report(c||ei,f,ok.htmlHttpReport,oD.P0),f}if(n&&"object"==typeof n){var l,h=n,p=h.value,d=h.currency;void 0===p||!isNaN(p)&&p>=0||N(of.CUSTOM_ERROR,{pixelCode:e,custom_name:"invalid_value",extJSON:{event:r,value:p,currency:d}}),void 0===d||(void 0===(l=this.currency_list)&&(l=null),(l||eK).includes(d))||N(of.CUSTOM_ERROR,{pixelCode:e,custom_name:"invalid_currency",extJSON:{event:r,value:p,currency:d}})}return t.prototype.trackSync.call(this,e,r,n,o,i,a,c)},r.trackPostTask=function(t){var e=t.reporterId,r=t.eventType,n=t.properties,o=t.eventConfig;eV.includes(r)||this.selfHostConfig[e]&&!this.hasReportEventHistory(r,ok.htmlHttpReport)&&(this.pushReport(r,this.getReportEventHistoryKey(ok.htmlHttpReport)),this.trackSync(e,r,n,o,oA.SELFHOST,ok.htmlHttpReport))},r.getReportEventHistoryKey=function(t){return t===ok.htmlHttpReport?this.selfHostConfig[this.getReporterId()]:"tiktok"},r.assemblySelfHostData=function(t,e,r,n,o){void 0===r&&(r={}),void 0===n&&(n={});var i=this.assemblyData(t,e,r,n,o),a=this.ttp;return a&&(i.context.user.ttp=a),i},e}(eq);function e6(t,e){return(e6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var e5=function(t,e){return function(r,n){e(r,n,t)}},e8=function(t){function e(e,r,n,o,i,a,c,s,u,f){return t.call(this,{id:e,type:r,isOnsitePage:n,context:o,reporterInfo:i,ttqOptions:a,reportService:c,plugins:s,rules:u,options:f})||this}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,e6(e,t);var r=e.prototype;return r.getInstance=function(){var t,e=this;if(this.pixelPromise)return this.pixelPromise;var r=(t=this.id,tM()[t]||{});return _()||r&&r.info?(this.loaded=!0,this.pixelPromise=Promise.resolve(this)):(this.pixelPromise=new Promise(function(t,r){var n,o,i=et();eG((n=e.id,o=(null==i?void 0:i.hostname)||"",(tO()?"/static/config.js":"https://analytics.tiktok.com/i18n/pixel/config.js")+"?sdkid="+n+"&hostname="+o)).then(function(){e.loaded=!0,t(e)}).catch(function(t){e.pixelPromise=null,r(t)})}),this.pixelPromise)},r.setCookieBasedSession=function(e){var r=e1(this.pixelCode,e,this.ttqOptions);t.prototype.setCookieBasedSession.call(this,r)},r.track=function(e,r,n,o,i){if(void 0===r&&(r={}),void 0===n&&(n={}),void 0===o&&(o=oA.TRACK),void 0===i&&(i=ok.defaultReport),n&&n.pixel_code&&this.getReporterId()!==n.pixel_code)return Promise.resolve(null);if(eA(this.reporterInfo,this.ttqOptions)){var a=ek(document.cookie);this.setCookieBasedSession(a[this.getReporterId()]),this.context.setPageCookieBasedSession(a[""])}return t.prototype.track.call(this,e,r,n,o,i)},e}(e3);function e4(t,e){return(e4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var e9=function(t){function e(){return t.apply(this,arguments)||this}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,e4(e,t);var r=e.prototype;return r.getInstance=function(){return this.pixelPromise=Promise.resolve(this),this.pixelPromise},r.track=function(t,e,r){return void 0===e&&(e={}),void 0===r&&(r={}),tU(this.getReporterId(),"track",[t,e,r]),Promise.resolve(null)},e}(e8=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([t6(),e5(0,t5(td.ID)),e5(1,t5(td.Type)),e5(2,t5(td.IsOnsitePage)),e5(3,t5(tH.CONTEXT)),e5(4,t5(td.Info)),e5(5,t5(tH.TTQ_GLOBAL_OPTIONS)),e5(6,t5(tH.REPORT_SERVICE)),e5(7,t5(td.Plugins)),e5(7,t8()),e5(8,t5(td.Rules)),e5(8,t8()),e5(9,t5(td.Options)),e5(9,t8())],e8));function e7(){e7=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i,a,c,s,u=Object._ttq_create((e&&e.prototype instanceof h?e:h).prototype);return n(u,"_invoke",{value:(i=t,a=r,c=new O(o||[]),s="suspendedStart",function(t,e){if("executing"===s)throw Error("Generator is already running");if("completed"===s){if("throw"===t)throw e;return T()}for(c.method=t,c.arg=e;;){var r=c.delegate;if(r){var n=function t(e,r){var n=r.method,o=e.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+n+"' method")),l;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,l;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,l):a:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,l)}(r,c);if(n){if(n===l)continue;return n}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===s)throw s="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s="executing";var o=f(i,a,c);if("normal"===o.type){if(s=c.done?"completed":"suspendedYield",o.arg===l)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(s="completed",c.method="throw",c.arg=o.arg)}})}),u}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function h(){}function p(){}function d(){}var v={};s(v,i,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==e&&r.call(y,i)&&(v=y);var _=d.prototype=h.prototype=Object._ttq_create(v);function m(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;n(this,"_invoke",{value:function(n,i){function a(){return new e(function(o,a){!function n(o,i,a,c){var s=f(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return n("throw",t,a,c)})}c(s.arg)}(n,i,o,a)})}return o=o?o.then(a,a):a()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=d,n(_,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(_),t},t.awrap=function(t){return{__await:t}},m(E.prototype),s(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},m(_),s(_,c,"Generator"),s(_,i,function(){return this}),s(_,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function rt(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){r(t);return}c.done?e(s):Promise.resolve(s).then(n,o)}function re(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){rt(i,n,o,a,c,"next",t)}function c(t){rt(i,n,o,a,c,"throw",t)}a(void 0)})}}function rr(t,e){return(rr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var rn=function(t,e){return function(r,n){e(r,n,t)}},ro=function(r){function n(t,e,n,o,i,a,c,s,u,f,l,h,p,d,v,g,y,_,m,E,b,I,O){(P=r.call(this,t,i,u)||this).context=t,P.env=s,P.reporters=e,P.cookieService=a,P.reportService=i,P.consentService=c,P.adService=n,P.appService=o,P.eventEmitter=u,P.historyObserver=b,P.interactionObserver=I,P.autoAdvancedMatchingPlugin=l,P.callbackPlugin=h,P.identifyPlugin=p,P.monitorPlugin=f,P.shopifyPlugin=d,P.autoConfigPlugin=v,P.diagnosticsConsolePlugin=g,P.pangleCookieMatchingPlugin=y,P.eventBuilderPlugin=_,P.pagedataPlugin=E,P.enrichIpv6Plugin=m,P.runtimeMeasurementPlugin=O,P.eventEmitter=u,P.historyObserver&&P.useObserver(P.historyObserver),P.interactionObserver&&P.useObserver(P.interactionObserver),P.autoAdvancedMatchingPlugin&&P.usePlugin(P.autoAdvancedMatchingPlugin),P.callbackPlugin&&P.usePlugin(P.callbackPlugin),P.identifyPlugin&&P.usePlugin(P.identifyPlugin),P.monitorPlugin&&P.usePlugin(P.monitorPlugin),P.shopifyPlugin&&P.usePlugin(P.shopifyPlugin),P.autoConfigPlugin&&P.usePlugin(P.autoConfigPlugin),P.diagnosticsConsolePlugin&&P.usePlugin(P.diagnosticsConsolePlugin),P.pangleCookieMatchingPlugin&&P.usePlugin(P.pangleCookieMatchingPlugin),P.eventBuilderPlugin&&P.usePlugin(P.eventBuilderPlugin),P.enrichIpv6Plugin&&P.usePlugin(P.enrichIpv6Plugin),P.runtimeMeasurementPlugin&&P.usePlugin(P.runtimeMeasurementPlugin),P.monitorPlugin&&(S.info.forEach(function(t){var e;null==(e=P.monitorPlugin)||e.info(t.event,t.detail,t.withoutJSB)}),S.error.forEach(function(t){var e;null==(e=P.monitorPlugin)||e.error(t.event,t.err,t.detail,t.withoutJSB)}),S.info=[],S.error=[]),P.dispatch(oN.INIT_START),P.pagedataPlugin&&P.usePlugin(P.pagedataPlugin),P.onPageLoaded(),P.onPageLeave();var P,T=t7(),N=T.url,R=T.referrer;return P.init(N,R),P.setPageInfo(N,R),P.dispatch(oN.INIT_END),P}n.prototype=Object._ttq_create(r.prototype),n.prototype.constructor=n,rr(n,r);var i,a=n.prototype;return a.initAdInfo=function(e,r){this.dispatch(oN.BEFORE_AD_INFO_INIT_START);var n=ee(t);if(n)return void this.initAdCache(n);if(tC()){var o=ev(e,r);o&&(o.creative_id&&o.log_extra||o.callback)&&(this.dispatch(oN.AD_INFO_INIT_START),en(t,o),this.setAdInfo(o),this.initOffsiteAdInfo(o));return}this.initBaseAdInfo(e,r)},a.initAdCache=function(t){this.dispatch(oN.AD_INFO_INIT_START),t.ad_info_from="cache",t.ad_info_status="fulfilled(cache)",this.setAdInfo(t),this.initOffsiteAdInfo(t)},a.initBaseAdInfo=function(t,e){var r=this;this.adService.webBridgeService.jsbridge&&this.dispatch(oN.AD_INFO_INIT_START),this.reportService.pushPreposition(re(e7().mark(function n(){var o;return e7().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.adService.getAdInfo(t,e);case 3:o=n.sent,r.context.setAdInfo(o),r.initOffsiteAdInfo(o),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),R(of.INIT_ERROR,n.t0,{extJSON:{position:"initAdInfo"}});case 11:case"end":return n.stop()}},n,null,[[0,8]])}))())},a.initOffsiteAdInfo=function(t){var e=ey(t,function(t){R(of.INIT_ERROR,t,{extJSON:{position:"handleAdInfoOfficial"}})});this.context.setOffsiteAdInfo(e);var r=eg(t,this.env);this.context.setEnableAdTracking(r),this.dispatch(oN.AD_INFO_INIT_END,{extJSON:{enabledAdTracking:r}})},a.initAppInfo=function(t,r){var n=this,o=ee(e);if(o)return void this.context.setAppInfo(o);this.reportService.pushPreposition(re(e7().mark(function e(){var o;return e7().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.initBaseAppInfo(t,r);case 2:return o=e.sent,e.abrupt("return",o);case 4:case"end":return e.stop()}},e)}))())},i=re(e7().mark(function t(e,r){var n;return e7().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.appService.getAppInfo(e,r);case 2:return n=t.sent,this.context.setAppInfo(n),t.abrupt("return",n);case 5:case"end":return t.stop()}},t,this)})),a.initBaseAppInfo=function(t,e){return i.apply(this,arguments)},a.initTestId=function(t,e){if(!this.context.getTestID()){var r=eL(t,eP("tt_test_id"),e);this.context.setTestID(r)}},a.initUserInfo=function(){this.setCookieInfo()},a.initLocalServiceInfo=function(){var t,e,r=ee(f);if(r)return void this.context.setUserInfoWithoutIdentifyPlugin(((t={})[f]=r,t));var n=t7(),o=n.url,i=n.referrer,a=t9(l[location.hostname]?l[location.hostname]:f,o,i);a&&(en(f,a),this.context.setUserInfoWithoutIdentifyPlugin(((e={})[f]=a,e)))},a.setPageIndex=function(t){t&&eS(t)},a.instance=function(t){this.beforeAPIExecution();var e=this.getReporter(t);return e||new e9(t,oO.PIXEL_CODE,{value:!1},this.context,{pixelCode:t},{},{})},a.instances=function(){return this.beforeAPIExecution(),this.reporters},a.page=function(t){this.beforeAPIExecution();var e=t7(),n=e.url,o=e.referrer;r.prototype.page.call(this,Object.assign({url:(null==t?void 0:t.page)||n,referrer:(null==t?void 0:t.referrer)||o},t))},a.track=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n={}),this.beforeAPIExecution();var o=n.pixel_code;if(void 0===o&&r.prototype.track.call(this,t,e,n),void 0!==o){var i=this.instance(o);i instanceof e9||i.track(t,e,n)}},a.identify=function(t,e){this.beforeAPIExecution(),r.prototype.identify.call(this,t,e)},a.setAdInfo=function(t){this.context.setAdInfo(t)},a.enableFirstPartyCookie=function(t){this.cookieService.enableFirstPartyCookie(t),t&&this.setCookieInfo()},a.enableCookie=function(){this.cookieService.enableFirstPartyCookie(!0),this.setCookieInfo(),this.cookieService.enableCookie()},a.disableCookie=function(){this.cookieService.disableCookie(),this.context.setUserInfoWithoutIdentifyPlugin({anonymous_id:void 0}),this.disablePangleCookie()},a.holdConsent=function(){this.consentService.setConsentMode(oE.HOLD)},a.revokeConsent=function(){this.consentService.setConsentMode(oE.REVOKE)},a.grantConsent=function(){this.consentService.setConsentMode(oE.GRANT)},a.disablePangleCookie=function(){this.pangleCookieMatchingPlugin&&this.pangleCookieMatchingPlugin.disablePangleCookie()},a.setAnonymousId=function(t){this.cookieService.setAnonymousId(t),this.initUserInfo()},a.resetCookieExpires=function(){this.cookieService.resetExpires()},a.setCookieInfo=function(){if(this.cookieService.canUseCookie()){var t=this.cookieService.getAnonymousId();t&&this.context.setUserInfoWithoutIdentifyPlugin({anonymous_id:t})}},a.onPageLoaded=function(){var t=this;window.addEventListener("load",function(){t.dispatch(oN.PAGE_DID_LOAD)},{once:!0})},a.onPageLeave=function(){var t=this,e=q(function(){var e=Date.now();t.dispatch(oN.PAGE_WILL_LEAVE,e),t.consentService.updateCache()});document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e()}),"onpagehide"in window&&window.addEventListener("pagehide",function(){e()}),window.addEventListener("beforeunload",function(){return e},{once:!0})},a.beforeAPIExecution=function(){try{var t,e;t=this.context,t7().url===t.getPageInfo().url||this.setPageInfo(t7().url),e=this.context,eP(o)===e.getUserInfo().anonymous_id||e$(this.context)}catch(t){R(of.API_ERROR,t,{extJSON:{position:"beforeAPIExecution"}})}},a.loadPixel=function(t,e){if(t){if(this.reporters.find(function(e){return e.getReporterId()===t}))return void w(oL.DUPLICATE_PIXEL_CODE);g().load(t,e||{})}},n}(eF),ri=ro=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([t6(),rn(0,t5(tH.CONTEXT)),rn(1,t5(tH.TTQ_REPORTERS)),rn(2,t5(tH.AD_SERVICE)),rn(3,t5(tH.APP_SERVICE)),rn(4,t5(tH.REPORT_SERVICE)),rn(5,t5(tH.COOKIE_SERVICE)),rn(6,t5(tH.CONSENT_SERVICE)),rn(7,t5(tH.ENV)),rn(8,t5(tH.EVENT_EMITTER)),rn(9,t5(tH.MONITOR_PLUGIN)),rn(9,t8()),rn(10,t5(tH.AUTO_ADVANCED_MATCHING_PLUGIN)),rn(10,t8()),rn(11,t5(tH.CALLBACK_PLUGIN)),rn(11,t8()),rn(12,t5(tH.IDENTIFY_PLUGIN)),rn(12,t8()),rn(13,t5(tH.SHOPIFY_PLUGIN)),rn(13,t8()),rn(14,t5(tH.AUTO_CONFIG_PLUGIN)),rn(14,t8()),rn(15,t5(tH.DIAGNOSTICS_CONSOLE_PLUGIN)),rn(15,t8()),rn(16,t5(tH.PANGLE_COOKIE_MATCHING_PLUGIN)),rn(16,t8()),rn(17,t5(tH.EVENT_BUILDER_PLUGIN)),rn(17,t8()),rn(18,t5(tH.ENRICH_IPV6_PLUGIN)),rn(18,t8()),rn(19,t5(tH.PAGEDATA_PLUGIN)),rn(19,t8()),rn(20,t5(tH.HISTORY_OBSERVER)),rn(20,t8()),rn(21,t5(tH.INTERACTION_OBSERVER)),rn(21,t8()),rn(22,t5(tH.RUNTIME_MEASUREMENT_PLUGIN)),rn(22,t8())],ro);function ra(){return(ra=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var rc=function(){function t(t){this.userFormatInfo={},this.userFormatInfoV2={},this.enableAdTracking=!0,this.offsiteAdInfo={},this.tt_test_id="",this.signalDiagnosticLabels=ra({},D),this.pageCookieBasedSession=eC(),this.init(t)}var e=t.prototype;return e.init=function(t){this.userInfo={},this.adInfo={},this.appInfo={},this.pageInfo={url:"",referrer:""},this.pageSign={sessionId:"",pageId:""},this.libraryInfo=t},e.getAllData=function(){return{userInfo:this.userInfo,adInfo:this.adInfo,appInfo:this.appInfo,libraryInfo:this.libraryInfo,pageInfo:this.pageInfo,pageSign:this.pageSign,signalType:this.signalType,userFormatInfo:this.userFormatInfo,userFormatInfoV2:this.userFormatInfoV2,enableAdTracking:this.enableAdTracking,offsiteAdInfo:this.offsiteAdInfo,tt_test_id:this.tt_test_id}},e.getLibraryInfo=function(){return this.libraryInfo},e.setSignalType=function(t){this.signalType=t},e.getSignalType=function(){return this.signalType},e.setTestID=function(t){this.tt_test_id=t},e.getTestID=function(){return this.tt_test_id},e.setEnableAdTracking=function(t){this.enableAdTracking=t},e.getEnableAdTracking=function(){return this.enableAdTracking},e.setOffsiteAdInfo=function(t){this.offsiteAdInfo=Object.assign({},this.offsiteAdInfo,t)},e.getOffsiteAdInfo=function(){return this.offsiteAdInfo},e.getUserFormatInfo=function(){return this.userFormatInfo},e.setUserFormatInfo=function(t){void 0===t&&(t={}),Object.assign(this.userFormatInfo,t)},e.getUserFormatInfoV2=function(){return this.userFormatInfoV2},e.setUserFormatInfoV2=function(t){void 0===t&&(t={}),Object.assign(this.userFormatInfoV2,t)},e.setUserInfo=function(t){void 0===t&&(t={}),Object.assign(this.userInfo,t)},e.setUserInfoWithoutIdentifyPlugin=function(t){t&&Object.assign(this.userInfo,t)},e.getUserInfo=function(){return this.userInfo},e.getAdInfo=function(){return this.adInfo},e.setAdInfo=function(t){t&&(this.adInfo?this.adInfo=Object.assign({},this.adInfo,t):this.adInfo=t)},e.getAppInfo=function(){return this.appInfo},e.setAppInfo=function(t){t&&(this.appInfo=Object.assign({},this.appInfo,t))},e.getPageInfo=function(){return this.pageInfo},e.getPageSign=function(){return this.pageSign},e.setPageInfo=function(t,e){var r=ra({},this.pageInfo),n=ra({},this.pageSign);if(r.url!==t){var o=r.url;if(void 0!==r.url&&(r.referrer=r.url),void 0!==e&&(r.referrer=e),void 0!==n.pageIndex){var i=n.pageIndex,a=i.index,c=i.sub,s=i.main;n.pageIndex={index:++a,sub:++c,main:s}}return r.url=t,this.pageInfo=r,this.pageSign=n,{from:o,pageIndex:n.pageIndex}}},e.setPageInfoData=function(t){this.pageInfo=Object.assign({},this.pageInfo,t)},e.getSessionIdFromCache=function(){return null},e.setSessionIdToCache=function(t){},e.setSignalDiagnosticLabels=function(t){Object.assign(this.signalDiagnosticLabels,t)},e.getSignalDiagnosticLabels=function(){return this.signalDiagnosticLabels},e.getPageId=function(t){return void 0===t&&(t=""+Date.now()),t+"-"+z(5)},e.getPageViewId=function(){var t=this.pageSign,e=t.pageId,r=t.pageIndex;return""+e+(r?"."+r.main+"."+r.sub:"")},e.getVariationId=function(){return""},e.getVids=function(){return""},e.isLegacyPixel=function(t){return!1},e.initPageSign=function(){var t=this.getSessionIdFromCache();null===t&&(t=H("sessionId"),this.setSessionIdToCache(t));var e={sessionId:t,pageId:H("pageId")};this.pageSign=e},e.getPageCookieBasedSession=function(){return this.pageCookieBasedSession},e.setPageCookieBasedSession=function(t){t&&(this.pageCookieBasedSession=t)},t}();function rs(t,e){return(rs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}rc=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([t6()],rc);var ru=function(t,e){return function(r,n){e(r,n,t)}},rf=function(t){function e(e,r,n,o,i){var a;return(a=t.call(this,e)||this).setSignalType(i||oI.OFFSITE),a.pageSign={sessionId:"",pageId:"",variationId:"",vids:"",pageIndex:{main:-1,sub:-1,index:-1}},a.legacy=n.legacy||[],a.variationId=n.variation_id||"",a.vids=n.vids||"",a.serverUniqueId=n.server_unqiue_id||"",a.ttqOptions=n,a.reportService=r,a.initPageSign(),t_(o)&&tI()&&(a.enableAdTracking=!1),a.data=function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(a),a}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,rs(e,t);var r=e.prototype;return r.getSessionIdFromCache=function(){var t=null;try{t=JSON.parse(sessionStorage.getItem(i)||"")}catch(t){}return t},r.setSessionIdToCache=function(t){en(i,t)},r.getVariationId=function(){return this.variationId},r.getVids=function(){return this.vids},r.isLegacyPixel=function(t){return b(t,this.legacy)},r.assignPageInfo=function(t){Object.assign(this.pageInfo,t)},r.getSessionIndex=function(){var t={main:-1,sub:-1,index:-1};try{var e=JSON.parse(sessionStorage.getItem(a)||"{}");if(e)return Object.assign({},t,e)}catch(t){}return t},r.setUserInfo=function(t){var e=this;if(void 0===t&&(t={}),0!==Object.keys(t).length){var r={};Object.entries(t).forEach(function(t){var n,o=t[0],i=t[1];if(i){if(o===F)return void e.setUserInfoWithoutIdentifyPlugin(((n={})[F]=i,n));r[o]=String(i).trim()}});var n=g(),o=null==n?void 0:n.getPlugin("Identify");o&&this.reportService.pushPreposition(o.handleUserProperties(r,t).then(function(t){void 0===t&&(t={});var n=t,i=n.userProperties,a=n.userDataFormat,c=n.userDataFormatV2;if(i){Object.assign(e.userInfo,i);var s=e.getUserFormatInfo()||{},u=e.getUserFormatInfoV2()||{},f=e.getSignalDiagnosticLabels()||{};if(e.setUserFormatInfo(Object.assign({},s,a)),e.setUserFormatInfoV2(Object.assign({},u,c)),e.setSignalDiagnosticLabels(Object.assign({},f,t.identifierLabel||{})),0===Object.keys(e.userInfo).length||1===Object.keys(r).length&&Object.keys(r).includes("external_id"))return;var l=o.reporters[0]||null,h=l?Object.keys(Object.assign({},l.getUserInfo(ov.Manual),l.getUserInfo(ov.Auto),l.getUserInfo(ov.EBManual))):[];l&&h.length&&l.track("EnrichAM",{},{},oA.TRACK)}}).catch(function(t){R(of.API_ERROR,t,{extJSON:{api:"identify"}})}))}},r.initPageSign=function(){var t,e,r=this.getSessionIdFromCache();null===r&&(r=(t=this.serverUniqueId)?""+t+"::"+z(20):H("sessionId"),this.setSessionIdToCache(r));var n=this.getPageId((e=r)?e.split("::")[0]:""),o=this.getVariationId(),i=this.getSessionIndex();i.main++,this.pageSign={sessionId:r,pageId:n,variationId:o,pageIndex:i}},r.setPageCookieBasedSession=function(e){var r=e1("",e,this.ttqOptions);t.prototype.setPageCookieBasedSession.call(this,r)},e}(rc);rf=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([t6(),ru(0,t5(td.WebLibraryInfo)),ru(1,t5(tH.REPORT_SERVICE)),ru(2,t5(tH.TTQ_GLOBAL_OPTIONS)),ru(3,t5(tH.ENV)),ru(3,t8()),ru(4,t5(td.SignalType)),ru(4,t8())],rf);var rl=String.fromCharCode.bind(String),rh=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),rp=function(t){for(var e,r,n,o,i="",a=t.length%3,c=0;c<t.length;){if((r=t.charCodeAt(c++))>255||(n=t.charCodeAt(c++))>255||(o=t.charCodeAt(c++))>255)throw TypeError("invalid character found");i+=rh[(e=r<<16|n<<8|o)>>18&63]+rh[e>>12&63]+rh[e>>6&63]+rh[63&e]}return a?i.slice(0,a-3)+"===".substring(a):i},rd=function(t){if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?rl(192|e>>>6)+rl(128|63&e):rl(224|e>>>12&15)+rl(128|e>>>6&63)+rl(128|63&e)}var r=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return rl(240|r>>>18&7)+rl(128|r>>>12&63)+rl(128|r>>>6&63)+rl(128|63&r)},rv=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,rg=function(t){return rp(JSON.stringify(t).replace(rv,rd)).replace(/=/g,"").replace(/[+\/]/g,function(t){return"+"===t?"-":"_"})};function ry(){ry=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i,a,c,s,u=Object._ttq_create((e&&e.prototype instanceof h?e:h).prototype);return n(u,"_invoke",{value:(i=t,a=r,c=new O(o||[]),s="suspendedStart",function(t,e){if("executing"===s)throw Error("Generator is already running");if("completed"===s){if("throw"===t)throw e;return T()}for(c.method=t,c.arg=e;;){var r=c.delegate;if(r){var n=function t(e,r){var n=r.method,o=e.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+n+"' method")),l;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,l;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,l):a:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,l)}(r,c);if(n){if(n===l)continue;return n}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===s)throw s="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s="executing";var o=f(i,a,c);if("normal"===o.type){if(s=c.done?"completed":"suspendedYield",o.arg===l)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(s="completed",c.method="throw",c.arg=o.arg)}})}),u}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function h(){}function p(){}function d(){}var v={};s(v,i,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==e&&r.call(y,i)&&(v=y);var _=d.prototype=h.prototype=Object._ttq_create(v);function m(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;n(this,"_invoke",{value:function(n,i){function a(){return new e(function(o,a){!function n(o,i,a,c){var s=f(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return n("throw",t,a,c)})}c(s.arg)}(n,i,o,a)})}return o=o?o.then(a,a):a()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=d,n(_,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(_),t},t.awrap=function(t){return{__await:t}},m(E.prototype),s(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},m(_),s(_,c,"Generator"),s(_,i,function(){return this}),s(_,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function r_(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){r(t);return}c.done?e(s):Promise.resolve(s).then(n,o)}var rm=function(){function t(t,e,r){this.httpService=t,this.bridgeService=e,this.reportPreTasks=r}var e,r,n=t.prototype;return n.pushPreposition=function(t){this.reportPreTasks.push(t)},e=ry().mark(function t(e,r,n,o){return ry().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve());case 1:case"end":return t.stop()}},t)}),r=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(t){r_(i,n,o,a,c,"next",t)}function c(t){r_(i,n,o,a,c,"throw",t)}a(void 0)})},n.report=function(t,e,n,o){return r.apply(this,arguments)},t}();rm=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([t6()],rm);var rE=function(t,e){var r=new URL(t);return Object.keys(e).forEach(function(t){var n=e[t].toJSON?e[t].toJSON():String(e[t]);r.searchParams.set(t,n)}),r.toString()},rb=function(t){var e=Array(t.length),r=0;return new Promise(function(n,o){for(var i=function(o){var i=t[o];i&&"function"==typeof i.then?i.then(function(i){e[o]={status:"fulfilled",value:i},++r===t.length&&n(e)}).catch(function(i){e[o]={status:"rejected",reason:i},++r===t.length&&n(e)}):(e[o]={status:"fulfilled",value:i},++r===t.length&&n(e))},a=0;a<t.length;a++)i(a)})};(n9=oM||(oM={}))[n9.PENDING=0]="PENDING",n9[n9.FULFILLED=1]="FULFILLED";var rI=function(){function t(){this.promiseQueue=[],this.status=oM.FULFILLED}var e=t.prototype;return e.push=function(t){this.status=oM.PENDING,this.promiseQueue.push(t)},e.then=function(t){var e,r=this;return this.status===oM.FULFILLED?Promise.resolve(t()):(e=this.promiseQueue,"function"==typeof Promise.allSettled?Promise.allSettled(e):rb(e)).then(function(){return r.status=oM.FULFILLED,t()})},t}();function rO(){rO=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i,a,c,s,u=Object._ttq_create((e&&e.prototype instanceof h?e:h).prototype);return n(u,"_invoke",{value:(i=t,a=r,c=new O(o||[]),s="suspendedStart",function(t,e){if("executing"===s)throw Error("Generator is already running");if("completed"===s){if("throw"===t)throw e;return T()}for(c.method=t,c.arg=e;;){var r=c.delegate;if(r){var n=function t(e,r){var n=r.method,o=e.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+n+"' method")),l;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,l;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,l):a:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,l)}(r,c);if(n){if(n===l)continue;return n}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===s)throw s="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s="executing";var o=f(i,a,c);if("normal"===o.type){if(s=c.done?"completed":"suspendedYield",o.arg===l)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(s="completed",c.method="throw",c.arg=o.arg)}})}),u}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function h(){}function p(){}function d(){}var v={};s(v,i,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==e&&r.call(y,i)&&(v=y);var _=d.prototype=h.prototype=Object._ttq_create(v);function m(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;n(this,"_invoke",{value:function(n,i){function a(){return new e(function(o,a){!function n(o,i,a,c){var s=f(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return n("throw",t,a,c)})}c(s.arg)}(n,i,o,a)})}return o=o?o.then(a,a):a()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=d,n(_,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(_),t},t.awrap=function(t){return{__await:t}},m(E.prototype),s(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},m(_),s(_,c,"Generator"),s(_,i,function(){return this}),s(_,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function rP(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){r(t);return}c.done?e(s):Promise.resolve(s).then(n,o)}function rT(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){rP(i,n,o,a,c,"next",t)}function c(t){rP(i,n,o,a,c,"throw",t)}a(void 0)})}}function rS(t,e){return(rS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var rN=function(t,e){return function(r,n){e(r,n,t)}},rR=function(t){function e(e,r,n,o){var i;return(i=t.call(this,e,r,new rI)||this).supportSendAnalyticsEvent=!0,i.consentService=n,i.consentService.on(oT.QUEUE,function(t){t.forEach(function(t){var e=t.url,r=t.data,n=t.type;i.report(e,r,n,oD.P0)})}),i.env=o,i}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,rS(e,t);var r,n,o,i=e.prototype;return r=rT(rO().mark(function t(e,r,n){var o,i,a,c,s,u,f;return rO().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.bridgeService.jsbridge){t.next=2;break}return t.abrupt("return");case 2:return u=!!(s=r).context&&(null==(i=null==(o=s.context)?void 0:o.ad)?void 0:i.ad_info_status)==="timeout",f={},t.prev=5,t.next=8,this.bridgeService.send(s,u);case 8:if(!(!(f=t.sent)||1!==f.code)){t.next=11;break}throw Error("[fetch bridge] sendLog error: code "+(f&&f.code)+", data: "+(f&&JSON.stringify(f)));case 11:return J(s.event)&&N(of.JSB_SEND,{pixelCode:null==(a=s.context.pixel)?void 0:a.code,app_name:tS()?"ultralite":"",extJSON:{event:s.event,event_id:s.event_id,need_inject_ad_info:u}}),t.abrupt("return",f);case 15:t.prev=15,t.t0=t.catch(5),J(s.event)&&R(of.JSB_ERROR,t.t0,{pixelCode:null==(c=s.context.pixel)?void 0:c.code,custom_name:"sendReportData",custom_enum:f&&f.code?""+f.code:"non",app_name:tL()||"",extJSON:{position:"sendReportData"}}),tS()&&tb()&&this.sendHttpReport(e,s,n);case 19:case"end":return t.stop()}},t,this,[[5,15]])})),i.send=function(t,e,n){return r.apply(this,arguments)},n=rT(rO().mark(function t(e,r,n,o,i){var a;return rO().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===o&&(o=!0),t.next=3,this.httpService.send(e,r,i);case 3:t.sent||this.httpService.sendByImage(e,{analytics_message:n}),o&&N(of.HTTP_SEND,{pixelCode:null==(a=r.context.pixel)?void 0:a.code,extJSON:{event:r.event,event_id:r.event_id}});case 6:case"end":return t.stop()}},t,this)})),i.sendHttpReport=function(t,e,r,o,i){return n.apply(this,arguments)},i.beforeReport=function(t,e,r){void 0===r&&(r=ok.defaultReport);var n=this.consentService.getConsentMode();return n!==oE.REVOKE&&(n!==oE.HOLD||(this.consentService.cacheReportTask(t,e,r),!1))},o=rT(rO().mark(function t(e,r,n,o){var i,a,c,s;return rO().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n=ok.defaultReport),void 0===o&&(o=oD.P0),o===oD.P0){t.next=8;break}return t.next=5,to(0);case 5:return t.next=7,this.report(e,r,n,oD.P0);case 7:case 15:return t.abrupt("return",t.sent);case 8:if(this.beforeReport(e,r,n)){t.next=11;break}return t.abrupt("return");case 11:if(i=rg(r),!(n===ok.defaultReport&&this.bridgeService.jsbridge)){t.next=16;break}return t.next=15,this.send(e,r,i);case 16:if(!(n===ok.httpReport&&this.bridgeService.jsbridge&&t_(this.env)&&!tT()&&this.supportSendAnalyticsEvent)){t.next=35;break}return a=e,t.prev=18,a=new URL(e).pathname,t.next=22,this.bridgeService.sendAnalyticsEvent({path:a,method:"POST",data:r});case 22:if(s=Error("sendAnalyticsEvent not support: code "+(c=t.sent)+", path: "+a+", data: "+JSON.stringify(r)),null!=c&&-2!==c){t.next=27;break}throw this.supportSendAnalyticsEvent=!1,s;case 27:if(1!==c){t.next=29;break}return t.abrupt("return");case 29:throw s;case 32:t.prev=32,t.t0=t.catch(18),R(of.CUSTOM_ERROR,t.t0,{custom_name:"sendAnalyticsEvent",custom_enum:String(c)},!0);case 35:this.sendHttpReport(e,r,i,!!(J(r.event)&&X(r)),r.action?3:void 0);case 36:case"end":return t.stop()}},t,this,[[18,32]])})),i.report=function(t,e,r,n){return o.apply(this,arguments)},i.reportFL=function(t){this.bridgeService.jsbridge&&this.bridgeService.updateWebFlData(t)},e}(rm);function rw(){rw=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i,a,c,s,u=Object._ttq_create((e&&e.prototype instanceof h?e:h).prototype);return n(u,"_invoke",{value:(i=t,a=r,c=new O(o||[]),s="suspendedStart",function(t,e){if("executing"===s)throw Error("Generator is already running");if("completed"===s){if("throw"===t)throw e;return T()}for(c.method=t,c.arg=e;;){var r=c.delegate;if(r){var n=function t(e,r){var n=r.method,o=e.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+n+"' method")),l;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,l;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,l):a:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,l)}(r,c);if(n){if(n===l)continue;return n}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===s)throw s="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s="executing";var o=f(i,a,c);if("normal"===o.type){if(s=c.done?"completed":"suspendedYield",o.arg===l)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(s="completed",c.method="throw",c.arg=o.arg)}})}),u}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function h(){}function p(){}function d(){}var v={};s(v,i,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==e&&r.call(y,i)&&(v=y);var _=d.prototype=h.prototype=Object._ttq_create(v);function m(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;n(this,"_invoke",{value:function(n,i){function a(){return new e(function(o,a){!function n(o,i,a,c){var s=f(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return n("throw",t,a,c)})}c(s.arg)}(n,i,o,a)})}return o=o?o.then(a,a):a()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=d,n(_,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(_),t},t.awrap=function(t){return{__await:t}},m(E.prototype),s(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},m(_),s(_,c,"Generator"),s(_,i,function(){return this}),s(_,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function rL(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){r(t);return}c.done?e(s):Promise.resolve(s).then(n,o)}rR=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([t6(),rN(0,t5(tH.HTTP_SERVICE)),rN(1,t5(tH.BRIDGE_SERVICE)),rN(2,t5(tH.CONSENT_SERVICE)),rN(3,t5(tH.ENV)),rN(3,t8())],rR);var rx=function(){function e(t){this.webBridgeService=t}var r,n,o=e.prototype;return r=rw().mark(function e(r,n){var o,i,a;return rw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this.getAdInfoFromURL(r,n),!this.webBridgeService.jsbridge){e.next=7;break}return e.next=4,this.webBridgeService.getAdInfo();case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0={};case 8:return i=e.t0,(a=Object.assign({},o,i))&&(a.creative_id&&a.log_extra||a.callback)&&en(t,a),e.abrupt("return",a);case 12:case"end":return e.stop()}},e,this)}),n=function(){var t=this,e=arguments;return new Promise(function(n,o){var i=r.apply(t,e);function a(t){rL(i,n,o,a,c,"next",t)}function c(t){rL(i,n,o,a,c,"throw",t)}a(void 0)})},o.getAdInfo=function(t,e){return n.apply(this,arguments)},o.getAdInfoFromURL=function(t,e){return ev(t,e)},e}();function rA(){rA=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i,a,c,s,u=Object._ttq_create((e&&e.prototype instanceof h?e:h).prototype);return n(u,"_invoke",{value:(i=t,a=r,c=new O(o||[]),s="suspendedStart",function(t,e){if("executing"===s)throw Error("Generator is already running");if("completed"===s){if("throw"===t)throw e;return T()}for(c.method=t,c.arg=e;;){var r=c.delegate;if(r){var n=function t(e,r){var n=r.method,o=e.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+n+"' method")),l;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,l;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,l):a:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,l)}(r,c);if(n){if(n===l)continue;return n}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===s)throw s="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s="executing";var o=f(i,a,c);if("normal"===o.type){if(s=c.done?"completed":"suspendedYield",o.arg===l)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(s="completed",c.method="throw",c.arg=o.arg)}})}),u}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function h(){}function p(){}function d(){}var v={};s(v,i,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==e&&r.call(y,i)&&(v=y);var _=d.prototype=h.prototype=Object._ttq_create(v);function m(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;n(this,"_invoke",{value:function(n,i){function a(){return new e(function(o,a){!function n(o,i,a,c){var s=f(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return n("throw",t,a,c)})}c(s.arg)}(n,i,o,a)})}return o=o?o.then(a,a):a()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=d,n(_,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(_),t},t.awrap=function(t){return{__await:t}},m(E.prototype),s(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},m(_),s(_,c,"Generator"),s(_,i,function(){return this}),s(_,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function rC(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){r(t);return}c.done?e(s):Promise.resolve(s).then(n,o)}rx=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([t6(),(n7=t5(tH.BRIDGE_SERVICE),function(t,e){n7(t,e,0)})],rx);var rk=function(){function t(t){this.webBridgeService=t}var r,n,o=t.prototype;return r=rA().mark(function t(r,n){var o,i,a,c;return rA().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((o=this.getAppInfoFromURL(r,n)).platform=tm(),!tb()){t.next=10;break}return t.next=5,tE();case 5:a=(i=t.sent).model,c=i.platformVersion,o.device_model=a,o.android_version=c;case 10:return"{}"!==JSON.stringify(o)&&en(e,o),t.abrupt("return",o);case 12:case"end":return t.stop()}},t,this)}),n=function(){var t=this,e=arguments;return new Promise(function(n,o){var i=r.apply(t,e);function a(t){rC(i,n,o,a,c,"next",t)}function c(t){rC(i,n,o,a,c,"throw",t)}a(void 0)})},o.getAppInfo=function(t,e){return n.apply(this,arguments)},o.getAppInfoFromURL=function(t,e){try{var r=t9(ed,t,e),n=r&&JSON.parse(r),o=n.device_id,i=n.uid;return{device_id:o,user_id:i}}catch(t){return{}}},t}();rk=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([t6(),(ot=t5(tH.BRIDGE_SERVICE),function(t,e){ot(t,e,0)})],rk);var rD="ad_analytics_msg";function rj(){rj=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i,a,c,s,u=Object._ttq_create((e&&e.prototype instanceof h?e:h).prototype);return n(u,"_invoke",{value:(i=t,a=r,c=new O(o||[]),s="suspendedStart",function(t,e){if("executing"===s)throw Error("Generator is already running");if("completed"===s){if("throw"===t)throw e;return T()}for(c.method=t,c.arg=e;;){var r=c.delegate;if(r){var n=function t(e,r){var n=r.method,o=e.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+n+"' method")),l;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,l;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,l):a:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,l)}(r,c);if(n){if(n===l)continue;return n}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===s)throw s="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s="executing";var o=f(i,a,c);if("normal"===o.type){if(s=c.done?"completed":"suspendedYield",o.arg===l)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(s="completed",c.method="throw",c.arg=o.arg)}})}),u}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function h(){}function p(){}function d(){}var v={};s(v,i,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==e&&r.call(y,i)&&(v=y);var _=d.prototype=h.prototype=Object._ttq_create(v);function m(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;n(this,"_invoke",{value:function(n,i){function a(){return new e(function(o,a){!function n(o,i,a,c){var s=f(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return n("throw",t,a,c)})}c(s.arg)}(n,i,o,a)})}return o=o?o.then(a,a):a()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=d,n(_,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(_),t},t.awrap=function(t){return{__await:t}},m(E.prototype),s(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},m(_),s(_,c,"Generator"),s(_,i,function(){return this}),s(_,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function rM(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){r(t);return}c.done?e(s):Promise.resolve(s).then(n,o)}function rF(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){rM(i,n,o,a,c,"next",t)}function c(t){rM(i,n,o,a,c,"throw",t)}a(void 0)})}}var rU=function(t,e){return function(r,n){e(r,n,t)}},rH=function(){function t(t,e){this.env=t,ty(this.env)&&(this.jsbridge=e),this.bridgeTimeout=400}var e,r,n,o,i,a,c,s=t.prototype;return e=rF(rj().mark(function t(){var e=this;return rj().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.jsbridge){t.next=3;break}return R(of.JSB_ERROR,Error("tt bridge error when getting ad info"),{extJSON:{position:"getAdInfo"}}),t.abrupt("return",Promise.resolve({}));case 3:return t.abrupt("return",new Promise(function(){var t=rF(rj().mark(function t(r){var n;return rj().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.callAdInfo();case 3:(n=t.sent).ad_info_from="jsb",n.ad_info_status=n.ad_info_status||"fulfilled",r(n),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),r({}),R(of.JSB_ERROR,t.t0,{extJSON:{position:"getAdInfo"}});case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()));case 4:case"end":return t.stop()}},t,this)})),s.getAdInfo=function(){return e.apply(this,arguments)},r=rF(rj().mark(function t(){var e,r;return rj().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.call("adInfo",{},tP()?3500:5e3);case 3:if((e=t.sent).data){t.next=6;break}return t.abrupt("return",Promise.reject("adInfo no data"));case 6:return r={creative_id:e.data.cid,log_extra:e.data.log_extra},t.abrupt("return",r);case 10:if(t.prev=10,t.t0=t.catch(0),"JSBRIDGE TIMEOUT"!==t.t0){t.next=17;break}return N(of.CUSTOM_INFO,{custom_name:"ad_info_init_timeout"}),t.abrupt("return",{ad_info_status:"timeout"});case 17:return R(of.JSB_ERROR,t.t0,{extJSON:{position:"getAdInfo"}}),t.abrupt("return",{});case 19:case"end":return t.stop()}},t,this,[[0,10]])})),s.callAdInfo=function(){return r.apply(this,arguments)},n=rF(rj().mark(function t(){return rj().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve({}));case 1:case"end":return t.stop()}},t)})),s.getAppInfo=function(){return n.apply(this,arguments)},o=rF(rj().mark(function t(e,r){var n,o,i,a,c,s,u,f,l,h,p,d;return rj().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.jsbridge){t.next=2;break}return t.abrupt("return",Promise.resolve());case 2:return i=(null==(o=null==(n=null==e?void 0:e.context)?void 0:n.ad)?void 0:o.creative_id)||"0",a=rg(e),c=Q(e)?"insight_log_monitor":"insight_log",s={analytics_message:a,trackLogData:JSON.stringify(e),category:"ad_analytics_msg",tag:rD,label:c},tT()&&(s.is_ad_event=1),l={eventName:rD,labelName:c,value:i,extValue:"0",extJson:s},"insight_log_monitor"===c&&tD(new Set([ou.MUSICAL_LY,ou.TRILL,ou.ULTRALITE]))?(f="x.reportAppLog",h={eventName:"insight_log_monitor",params:s},u=this.call("x.reportAppLog",h,this.bridgeTimeout)):tC()||Q(e)?(f="sendLog",u=this.call("sendLog",l,this.bridgeTimeout)):t_(this.env)?tI()&&r?(p={eventName:c,params:s},f="sendLogWithAdInfo",u=this.call("sendLogWithAdInfo",p,this.bridgeTimeout)):(f="sendLog",u=this.call("sendLog",l,this.bridgeTimeout)):(d={event_name:c,version:2,properties:s},f="track_event",u=this.call("track_event",d,400)),setTimeout(function(){N(of.CUSTOM_INFO,{custom_name:"send_report_data",extJSON:{api_name:f}})}),t.abrupt("return",u);case 11:case"end":return t.stop()}},t,this)})),s.send=function(t,e){return o.apply(this,arguments)},i=rF(rj().mark(function t(e,r,n,o){var i=this;return rj().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r={}),void 0===n&&(n=400),void 0===o&&(o=!0),t.abrupt("return",new Promise(function(t,a){var c;if(!i.jsbridge){a("JSBRIDGE ERROR"),o&&R(of.JSB_ERROR,Error("JSBRIDGE ERROR"),{extJSON:{position:"getCallPromise"}});return}n>0&&(c=window.setTimeout(function(){a("JSBRIDGE TIMEOUT"),o&&R(of.JSB_ERROR,Error("JSBRIDGE TIMEOUT"),{extJSON:{position:"getCallPromise",method:e}})},n)),i.jsbridge&&i.jsbridge.call&&i.jsbridge.call(e,r,function(e){t(function(t,e){void 0===e&&(e=!0);var r={};try{if("string"==typeof t)r.data=JSON.parse(t);else if(t.code&&t.data&&t.ret?0:1)if(void 0!==t.code){var n=Object.assign({},t),o=n.code;r.code=o,delete n.code,n.data?r.data=n.data:r.data=n}else r.data=t;else(r=t).__data&&(r.data=r.__data)}catch(t){e&&R(of.JSB_ERROR,t,{extJSON:{position:"getCallPromise bridge.call"}})}return r}(e,o)),window.clearTimeout(c)})}));case 4:case"end":return t.stop()}},t)})),s.call=function(t,e,r,n){return i.apply(this,arguments)},a=rF(rj().mark(function t(e){var r,n,o,i,a;return rj().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.method,n=e.path,o=e.params,i=e.data,t.next=3,this.call("sendAnalyticsEvent",{method:r,path:n,params:o,data:i,header:{"Content-Type":"application/json"}},0,!1);case 3:return a=t.sent,t.abrupt("return",null==a?void 0:a.code);case 5:case"end":return t.stop()}},t,this)})),s.sendAnalyticsEvent=function(t){return a.apply(this,arguments)},c=rF(rj().mark(function t(e){return rj().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(t_(this.env)&&tI())){t.next=2;break}return t.abrupt("return",this.call("updateFLLocalConv",e,this.bridgeTimeout));case 2:case"end":return t.stop()}},t,this)})),s.updateWebFlData=function(t){return c.apply(this,arguments)},t}();function rG(){rG=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i,a,c,s,u=Object._ttq_create((e&&e.prototype instanceof h?e:h).prototype);return n(u,"_invoke",{value:(i=t,a=r,c=new O(o||[]),s="suspendedStart",function(t,e){if("executing"===s)throw Error("Generator is already running");if("completed"===s){if("throw"===t)throw e;return T()}for(c.method=t,c.arg=e;;){var r=c.delegate;if(r){var n=function t(e,r){var n=r.method,o=e.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+n+"' method")),l;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,l;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,l):a:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,l)}(r,c);if(n){if(n===l)continue;return n}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===s)throw s="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s="executing";var o=f(i,a,c);if("normal"===o.type){if(s=c.done?"completed":"suspendedYield",o.arg===l)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(s="completed",c.method="throw",c.arg=o.arg)}})}),u}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function h(){}function p(){}function d(){}var v={};s(v,i,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==e&&r.call(y,i)&&(v=y);var _=d.prototype=h.prototype=Object._ttq_create(v);function m(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;n(this,"_invoke",{value:function(n,i){function a(){return new e(function(o,a){!function n(o,i,a,c){var s=f(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return n("throw",t,a,c)})}c(s.arg)}(n,i,o,a)})}return o=o?o.then(a,a):a()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=d,n(_,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(_),t},t.awrap=function(t){return{__await:t}},m(E.prototype),s(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},m(_),s(_,c,"Generator"),s(_,i,function(){return this}),s(_,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function rV(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){r(t);return}c.done?e(s):Promise.resolve(s).then(n,o)}rH=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([t6(),rU(0,t5(tH.ENV)),rU(0,t8()),rU(1,t5(tH.JS_BRIDGE)),rU(1,t8())],rH);var rB=function(){function t(){}var e,r,n=t.prototype;return e=rG().mark(function t(e,r,n){var o;return rG().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n=0),t.prev=1,!(!navigator||!navigator.sendBeacon)){t.next=4;break}return t.abrupt("return",!1);case 4:if(!(!(o=navigator.sendBeacon(e,JSON.stringify(r)))&&"number"==typeof n&&n>0)){t.next=10;break}return n--,t.next=9,to(200);case 9:return t.abrupt("return",this.send(e,r,n));case 10:return t.abrupt("return",o);case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",!1);case 16:case"end":return t.stop()}},t,this,[[1,13]])}),r=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(t){rV(i,n,o,a,c,"next",t)}function c(t){rV(i,n,o,a,c,"throw",t)}a(void 0)})},n.send=function(t,e,n){return r.apply(this,arguments)},n.sendByImage=function(t,e){new Image().src=rE(t,e)},t}();function rW(){rW=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i,a,c,s,u=Object._ttq_create((e&&e.prototype instanceof h?e:h).prototype);return n(u,"_invoke",{value:(i=t,a=r,c=new O(o||[]),s="suspendedStart",function(t,e){if("executing"===s)throw Error("Generator is already running");if("completed"===s){if("throw"===t)throw e;return T()}for(c.method=t,c.arg=e;;){var r=c.delegate;if(r){var n=function t(e,r){var n=r.method,o=e.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+n+"' method")),l;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,l;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,l):a:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,l)}(r,c);if(n){if(n===l)continue;return n}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===s)throw s="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s="executing";var o=f(i,a,c);if("normal"===o.type){if(s=c.done?"completed":"suspendedYield",o.arg===l)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(s="completed",c.method="throw",c.arg=o.arg)}})}),u}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function h(){}function p(){}function d(){}var v={};s(v,i,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==e&&r.call(y,i)&&(v=y);var _=d.prototype=h.prototype=Object._ttq_create(v);function m(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;n(this,"_invoke",{value:function(n,i){function a(){return new e(function(o,a){!function n(o,i,a,c){var s=f(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return n("throw",t,a,c)})}c(s.arg)}(n,i,o,a)})}return o=o?o.then(a,a):a()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=d,n(_,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(_),t},t.awrap=function(t){return{__await:t}},m(E.prototype),s(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},m(_),s(_,c,"Generator"),s(_,i,function(){return this}),s(_,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function rK(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){r(t);return}c.done?e(s):Promise.resolve(s).then(n,o)}rB=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([t6()],rB);var rY=function(){function t(t){this.cookieExpireOption=eE(t)}var e,r,i=t.prototype;return i.genCookieID=function(){return Z()},e=rW().mark(function t(){return rW().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return eT(n,"1",this.cookieExpireOption),t.abrupt("return",eG(tO()?"/static/enable_cookie.js":"https://analytics.tiktok.com/i18n/pixel/enable_cookie"));case 2:case"end":return t.stop()}},t,this)}),r=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(t){rK(i,n,o,a,c,"next",t)}function c(t){rK(i,n,o,a,c,"throw",t)}a(void 0)})},i.enableCookie=function(){return r.apply(this,arguments)},i.enableFirstPartyCookie=function(t){if(t){eT(n,"1",this.cookieExpireOption);var e=this.getAnonymousId();this.setAnonymousId(e||this.genCookieID())}},i.disableCookie=function(){eT(n,"0",this.cookieExpireOption),eT(o,"",Object.assign(this.cookieExpireOption,{expires:-1})),eG(tO()?"/static/disable_cookie.js":"https://analytics.tiktok.com/i18n/pixel/disable_cookie")},i.setAnonymousId=function(t){var e=this.getAnonymousId()||t;e&&eT(o,e.split(".")[0],this.cookieExpireOption)},i.getAnonymousId=function(){return eP(o)||""},i.canUseCookie=function(){try{return"0"!==eP(n)}catch(t){}return!1},i.resetExpires=function(){var t=eP(n);t&&eT(n,t,this.cookieExpireOption);var e=this.getAnonymousId();e&&this.setAnonymousId(e)},t}();function rJ(t,e){return(rJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}rY=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([t6(),(oe=t5(tH.TTQ_GLOBAL_OPTIONS),function(t,e){oe(t,e,0)})],rY),(or=oF||(oF={}))[or.P0=4]="P0",or[or.P1=3]="P1",or[or.P2=2]="P2",or[or.P3=1]="P3";var rQ="tt_hold_events",rX=function(t){function e(){var e;return e=t.apply(this,arguments)||this,e.consentMode=oE.UNKNOWN,e.queue=[],e.debounceUpdateCache=tn(function(){e.updateCache()},200,function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)),e.handleHistoryQueue=q(function(){var t=ee(rQ);Array.isArray(t)&&(e.queue=e.queue.concat(t),e.changeQueueWithConsent())}),e}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,rJ(e,t);var r=e.prototype;return r.on=function(e,r){t.prototype.on.call(this,e,r,{}),this.handleHistoryQueue()},r.setConsentMode=function(t){this.consentMode=t,this.changeQueueWithConsent()},r.changeQueueWithConsent=function(){switch(this.consentMode){case oE.REVOKE:this.cleanQueue();break;case oE.GRANT:this.releaseQueue(),this.cleanQueue();case oE.HOLD:case oE.UNKNOWN:}},r.getConsentMode=function(){return this.consentMode},r.cacheReportTask=function(t,e,r){void 0===r&&(r=ok.defaultReport),this.queue.push({url:t,data:e,type:r}),this.debounceUpdateCache()},r.cleanQueue=function(){this.queue=[],er(rQ)},r.updateCache=function(){this.queue&&this.queue.length>0&&en(rQ,this.queue)},r.releaseQueue=function(){var t=this;this.queue.sort(function(e,r){return t.getEventPriority(r.data)-t.getEventPriority(e.data)}),this.emit(oT.QUEUE,this.queue)},r.getEventPriority=function(t){return t.event&&t.event.length>0?oF.P0:t.action&&t.action.length>0?oF.P1:""===t.event?oF.P2:oF.P3},e}(eY);rX=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([t6()],rX);var rq=function(){function t(t){var e=t.name,r=t.context,n=t.reporters;this.reporters=[],this.context=r,this.reporters=n,this.name=e}var e=t.prototype;return e.initStart=function(){},e.initEnd=function(){},e.adInfoInitStart=function(){},e.adInfoInitEnd=function(){},e.contextInitStart=function(){},e.contextInitEnd=function(){},e.pageUrlWillChange=function(t,e){},e.pageUrlDidChange=function(t,e){},e.pageDidLoad=function(){},e.pageWillLeave=function(t){},e.pixelSend=function(t,e,r,n,o){},e.pixelDidMount=function(t){},e.patchEnd=function(){},t}();function rz(t,e){return(rz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var rZ=function(t){function e(){return t.apply(this,arguments)||this}return e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,rz(e,t),e}(rq=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([t6()],rq));function r$(t,e){return(r$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var r0=function(t,e){return function(r,n){e(r,n,t)}},r1=function(t){function e(e,r){var n;return(n=t.call(this,{name:"Callback",reporters:r,context:e})||this).ttclidCookieValue="undefined"!=typeof document?eP(ep):"",n}return e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,r$(e,t),e.prototype.pixelDidMount=function(t){var e=t7(),r=t9(ep,e.url,e.referrer);r&&this.ttclidCookieValue!==r&&em(ep,r)},e}(rZ);r1=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([t6(),r0(0,t5(tH.CONTEXT)),r0(1,t5(tH.TTQ_REPORTERS))],r1);var r2={isHash:function(t){return!1},genIdentifierLabelByUserProperties:function(t){return{}}},r3={validatePhoneNumberLength:function(t){},parsePhoneNumberFromString:function(t){}},r6={tryDecodeHashedBase64String:function(t){return null},tryDecodeHashedBase64Hex:function(t){return null}},r5={checkEmailFormat:function(t){return!1},checkMDNEmailFormat:function(t){return!1}},r8=function(t){var e=t.parsePhoneNumberFromString,r=t.validatePhoneNumberLength;r3.parsePhoneNumberFromString=e,r3.validatePhoneNumberLength=r},r4=function(t){var e=t.isHash,r=t.genIdentifierLabelByUserProperties;r2.isHash=e,r2.genIdentifierLabelByUserProperties=r},r9=function(t){var e=t.tryDecodeHashedBase64String,r=t.tryDecodeHashedBase64Hex;r6.tryDecodeHashedBase64String=e,r6.tryDecodeHashedBase64Hex=r},r7=function(t){var e=t.checkEmailFormat,r=t.checkMDNEmailFormat;r5.checkEmailFormat=e,r5.checkMDNEmailFormat=r},nt=function(t){var e=t.parsePhoneNumberFromString,r=t.validatePhoneNumberLength,n=t.isHash,o=t.genIdentifierLabelByUserProperties,i=t.tryDecodeHashedBase64String,a=t.tryDecodeHashedBase64Hex,c=t.checkEmailFormat,s=t.checkMDNEmailFormat,u=t.sha256;r7({checkEmailFormat:c,checkMDNEmailFormat:s}),r9({tryDecodeHashedBase64String:i,tryDecodeHashedBase64Hex:a}),r4({isHash:n,genIdentifierLabelByUserProperties:o}),r8({parsePhoneNumberFromString:e,validatePhoneNumberLength:r}),Y(u)},ne=function(t,e,r){void 0===e&&(e=""),void 0===r&&(r=r3.parsePhoneNumberFromString);var n=t,o=e?r(t,e):r(t);return o?n="86"===o.countryCallingCode?o.nationalNumber:o.number:t.replace(/[^0-9]/g,"").length>0&&(n=t.replace(/[^0-9]/g,"")),n},nr=["(null)","","''\"",void 0,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855","eb045d78d273107348b0300c01d29b7552d622abbc6faf81b3ec55359aa9950c","not set",null,"6181738008c985a1b5f106b796c98e719efcc3c0ff68ddcd14a049825f4900a8","2a539d6520266b56c3b0c525b9e6128858baeccb5ee9b694a2906e123c8d6dd3","c6e52c372287175a895926604fa738a0ad279538a67371cd56909c7917e69ea1","None","74234e98afe7498fb5daf1f36ac2d78acc339464f950703b8c019892f982b90b","f24f02d3c35894296522abac8c4b2439b1c1b650e1fb4c97c0f3c50b580b0a3c","no","a683c5c5349f6f7fb903ba8a9e7e55d0ba1b8f03579f95be83f4954c33e81098","f18a2548c063c5a2b1560c6f2b9ec44bf9ed9017884404016d74f330119aaefe","449f06574cd639e1826848ff5d70ba95904574be84f34e61baa526d517dfb493","fcbcf165908dd18a9e49f7ff27810176db8e9f63b4352213741664245224f8aa","NA","bc857c49633bbc75644c51f36b16b2f768cc0ee13f65402ec7c32c96308272dd","42cbf37902c6911d7b4e371fe8f8708a0ceda6946249d4a3e23de8d5e60ae8b7"];function nn(t,e){return(nn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var no=function(t){function e(e){var r=e.name,n=e.context,o=e.reporters;return t.call(this,{name:r,reporters:o,context:n})||this}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,nn(e,t);var r=e.prototype;return r.setIdentifyUtils=function(t){var e=t.isHash,r=t.sha256,n=t.genIdentifierLabelByUserProperties,o=t.tryDecodeHashedBase64String,i=t.tryDecodeHashedBase64Hex,a=t.validatePhoneNumberLength,c=t.parsePhoneNumberFromString,s=t.checkEmailFormat,u=t.checkMDNEmailFormat,f=t.getCookieDeprecationLabel,l=t.getAllTopics;nt({isHash:e,sha256:r,genIdentifierLabelByUserProperties:n,tryDecodeHashedBase64String:o,tryDecodeHashedBase64Hex:i,validatePhoneNumberLength:a,parsePhoneNumberFromString:c,checkEmailFormat:s,checkMDNEmailFormat:u}),this.parsePhoneNumberFromString=c,this.checkMDNEmailFormat=u,this.checkEmailFormat=s,this.sha256=r,this.getCookieDeprecationLabel=void 0===f?function(){}:f,this.getAllTopics=void 0===l?function(){}:l},r.baseHandleUserProperties=function(t,e){var r=this;if(t){var n=this.identifyParamsFormattedInfo(t),o=this.identifyParamsFormattedInfoV2(t),i=r2.genIdentifierLabelByUserProperties(e);return this.handlePIIDiagnostics(o),Object.entries(t).forEach(function(e){var n=e[0],i=e[1],a=void 0===i?"":i;if(a){var c=String(a);if(["email","phone_number","sha256_email","sha256_phone_number"].includes(n)){var s=r.getUserDataFormatInfoV2KeyName(n),u=r6.tryDecodeHashedBase64Hex(c);if(null!==u)t[n]=u,null!==s&&(o=r.updateUserDataFormatV2Label(s,od.BASE64_HEX_HASHED,o));else{var f=r6.tryDecodeHashedBase64String(c);f&&(t[n]=f,null!==s&&(o=r.updateUserDataFormatV2Label(s,od.BASE64_STRING_HASHED,o)))}}switch("zip_code"===n&&c&&(r2.isHash(c)?o=r.updateUserDataFormatV2Label("zip_code",od.ZIP_CODE_IS_HASHED,o):(o=r.updateUserDataFormatV2Label("zip_code",od.ZIP_CODE_IS_NOT_HASHED,o),r.isZipFromUs(t)?(t.zip_code=r.sha256(r.truncateString(c,5)),o=r.updateUserDataFormatV2Label("zip_code",od.ZIP_CODE_IS_US,o)):(t.zip_code=r.sha256(c),o=r.updateUserDataFormatV2Label("zip_code",od.ZIP_CODE_IS_NOT_US,o)))),n){case"email":t.email=r2.isHash(c)&&!r.checkEmailFormat(c)?c:r.sha256(r.handleEmail(c));break;case"eb_email":t.eb_email=r.sha256(r.handleEmail(c));break;case"phone_number":t.phone_number=r2.isHash(c)?c:r.sha256(r.handlePhoneNumber(c));break;case"eb_phone_number":t.eb_phone_number=r.sha256(r.handlePhoneNumber(c));break;case"auto_email":t.auto_email=r.sha256(r.handleEmail(c));break;case"auto_phone_number":t.auto_phone_number=r.sha256(r.handlePhoneNumber(c));break;case"first_name":t.first_name=r2.isHash(c)?c:r.sha256(c);break;case"last_name":t.last_name=r2.isHash(c)?c:r.sha256(c);break;case"city":t.city=r.truncateString(c,80);break;case"state":t.state=r.truncateString(c,80);break;case"country":t.country=r.truncateString(c,80);break;default:return}}}),t.sha256_email&&(t.email=this.handleCheckHashedEmailValue(String(t.sha256_email),n)),t.sha256_phone_number&&(t.phone_number=this.handleCheckHashedPhoneValue(String(t.sha256_phone_number),n)),{userProperties:t,userDataFormat:n,userDataFormatV2:o,identifierLabel:i}}},r.identifyParamsFormattedInfo=function(t){var e=this,r={},n=/^sha256_(.*)$/;return Object.entries(t).forEach(function(t){var o=t[0],i=t[1],a=String(void 0===i?"":i),c=o.match(n);switch(o){case"email":e.handleEmailFormat(a,o,r);break;case"phone_number":e.handlePhoneNumberFormat(a,"phone_number",r);break;case"auto_email":e.handleEmailFormat(a,"auto_email",r);break;case"auto_phone_number":e.handlePhoneNumberFormat(a,"auto_phone_number",r);break;case(c||{}).input:var s=null==c?void 0:c.pop();s&&j.includes(s)&&(r[s]=[op.HASHED]);break;case"first_name":case"last_name":case"city":case"state":case"country":case"zip_code":case"partner_id":e.handleNewPiisFormat(a,o,r);break;default:r[o]=[op.CORRECT_FORMAT]}}),r},r.identifyParamsFormattedInfoV2=function(t){var e=this,r={};return Object.entries(t).forEach(function(t){var n=t[0],o=t[1],i=String(void 0===o?"":o);switch(n){case"email":e.handlePixelValidation(i,M.EMAIL_IS_HASHED,r);break;case"phone_number":e.handlePixelValidation(i,M.PHONE_IS_HASHED,r);break;case"sha256_email":e.handlePixelValidation(i,M.SHA256_EMAIL,r);break;case"sha256_phone_number":e.handlePixelValidation(i,M.SHA256_PHONE,r);break;case"first_name":case"last_name":case"city":case"state":case"country":case"zip_code":case"partner_id":break;default:r[n]=[od.UNKNOWN_INVALID]}}),r},r.updateUserDataFormatV2Label=function(t,e,r){var n,o;return(null===r[t]||void 0===r[t]||(null==(n=r[t])?void 0:n.includes(od.UNKNOWN_INVALID)))&&(r[t]=[]),null==(o=r[t])||o.push(e),r},r.getUserDataFormatInfoV2KeyName=function(t){return({email:"email_is_hashed",phone_number:"phone_is_hashed",sha256_email:"sha256_email",sha256_phone_number:"sha256_phone",zip_code:"zip_code"})[t]||null},r.handlePIIDiagnostics=function(t){},r.handleEmail=function(t){return t.toLowerCase()},r.handlePhoneNumber=function(t,e){return void 0===e&&(e=this.parsePhoneNumberFromString),ne(t,"",e)},r.handleCheckHashedEmailValue=function(t,e,r){return(void 0===r&&(r=this.checkEmailFormat),e.email=e.email||[],r2.isHash(t))?(null==e||e.email.push(op.HASHED_CORRECT),t):r(t)?(null==e||e.email.push(op.PLAINTEXT_EMAIL),this.sha256(this.handleEmail(String(t)))):(null==e||e.email.push(op.HASHED_ERR),this.sha256(t))},r.handleCheckHashedPhoneValue=function(t,e,r){return(void 0===r&&(r=this.parsePhoneNumberFromString),e.phone_number=e.phone_number||[],r2.isHash(t))?(null==e||e.phone_number.push(op.HASHED_CORRECT),t):r(t)?(e.phone_number.push(op.PLAINTEXT_PHONE),this.sha256(this.handlePhoneNumber(String(t),r))):(null==e||e.phone_number.push(op.HASHED_ERR),this.sha256(t))},r.handlePixelValidation=function(t,e,r){r[e]=[],nr.includes(t)&&r[e].push(od.FILTER_EVENTS),t&&r2.isHash(t)&&r[e].push(od.HASHED),t&&this.checkEmailFormat(t)&&r[e].push(od.PLAIN_EMAIL),t&&this.checkMDNEmailFormat(t)&&r[e].push(od.PLAIN_MDN_EMAIL),t&&this.parsePhoneNumberFromString(t)&&r[e].push(od.PLAIN_PHONE),t&&0===r[e].length&&r[e].push(od.UNKNOWN_INVALID)},r.isZipFromUs=function(t){var e;return(null==(e=t.country)?void 0:e.toLowerCase())==="us"},r.truncateString=function(t,e){var r=Array.from(t);return r.length<=e?t:r.slice(0,e).join("")},r.handlePhoneNumberFormat=function(t,e,r){var n=this.handleCheckPhoneNumber(String(t),this.parsePhoneNumberFromString);r[e]=n},r.handleCheckPhoneNumber=function(t,e){void 0===e&&(e=this.parsePhoneNumberFromString);var r=[];return t?r2.isHash(t)?r.push(op.HASHED):e(t)?r.push(op.CORRECT_FORMAT):r.push(op.WRONG_FORMAT):r.push(op.EMPTY_VALUE),r},r.handleCheckEmail=function(t,e){void 0===e&&(e=this.checkEmailFormat);var r=[];return t?r2.isHash(t)?r.push(op.HASHED):e(t)?r.push(op.CORRECT_FORMAT):r.push(op.WRONG_FORMAT):r.push(op.EMPTY_VALUE),r},r.handleEmailFormat=function(t,e,r){var n=this.handleCheckEmail(String(t),this.checkEmailFormat);r&&r[e]&&(r[e]||[]).includes(op.HASHED)||(r[e]=n)},r.handleNewPiisFormat=function(t,e,r){t&&(r[e]=[op.CORRECT_FORMAT])},e}(rZ);function ni(){ni=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i,a,c,s,u=Object._ttq_create((e&&e.prototype instanceof h?e:h).prototype);return n(u,"_invoke",{value:(i=t,a=r,c=new O(o||[]),s="suspendedStart",function(t,e){if("executing"===s)throw Error("Generator is already running");if("completed"===s){if("throw"===t)throw e;return T()}for(c.method=t,c.arg=e;;){var r=c.delegate;if(r){var n=function t(e,r){var n=r.method,o=e.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+n+"' method")),l;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,l;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,l):a:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,l)}(r,c);if(n){if(n===l)continue;return n}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if("suspendedStart"===s)throw s="completed",c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s="executing";var o=f(i,a,c);if("normal"===o.type){if(s=c.done?"completed":"suspendedYield",o.arg===l)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(s="completed",c.method="throw",c.arg=o.arg)}})}),u}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function h(){}function p(){}function d(){}var v={};s(v,i,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==e&&r.call(y,i)&&(v=y);var _=d.prototype=h.prototype=Object._ttq_create(v);function m(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;n(this,"_invoke",{value:function(n,i){function a(){return new e(function(o,a){!function n(o,i,a,c){var s=f(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,a,c)},function(t){n("throw",t,a,c)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return n("throw",t,a,c)})}c(s.arg)}(n,i,o,a)})}return o=o?o.then(a,a):a()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=d,n(_,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=s(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,c,"GeneratorFunction")),t.prototype=Object._ttq_create(_),t},t.awrap=function(t){return{__await:t}},m(E.prototype),s(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},m(_),s(_,c,"Generator"),s(_,i,function(){return this}),s(_,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function na(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){r(t);return}c.done?e(s):Promise.resolve(s).then(n,o)}function nc(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){na(i,n,o,a,c,"next",t)}function c(t){na(i,n,o,a,c,"throw",t)}a(void 0)})}}function ns(t,e){return(ns=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var nu=function(t,e){return function(r,n){e(r,n,t)}},nf=function(t){function e(e,r){var n;return(n=t.call(this,{name:"Identify",reporters:r,context:e})||this).init(),n}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,ns(e,t);var r,n,o=e.prototype;return o.init=function(){var t=this;return this.pluginPromise||(N(of.IDENTIFY_INIT_START),this.pluginPromise=eG(tO()?"/static/identify.js":"https://analytics.tiktok.com/i18n/pixel/static/identify_47d087f9.js").then(function(){t.detectTopics(),N(of.IDENTIFY_INIT_END)}).catch(function(){var t=Error("Loading chunk identify failed.\n(error: "+window.location.host+"/static/identify.js)");return t.name="ChunkLoadError",Promise.reject(t)})),this.pluginPromise},r=nc(ni().mark(function t(e,r){return ni().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",void 0);case 2:return t.next=4,this.init();case 4:return t.abrupt("return",this.baseHandleUserProperties(e,r));case 5:case"end":return t.stop()}},t,this)})),o.handleUserProperties=function(t,e){return r.apply(this,arguments)},o.handlePIIDiagnostics=function(t){try{var e=t.email_is_hashed,r=void 0===e?[]:e,n=t.sha256_email,o=void 0===n?[]:n,i=t.phone_is_hashed,a=void 0===i?[]:i,c=t.sha256_phone,s=void 0===c?[]:c;if(r.includes(od.UNKNOWN_INVALID)||o.includes(od.UNKNOWN_INVALID))return void w(oL.INVALID_EMAIL_FORMAT);if(a.includes(od.UNKNOWN_INVALID)||s.includes(od.UNKNOWN_INVALID))return void w(oL.INVALID_PHONE_NUMBER_FORMAT);if(r.includes(od.FILTER_EVENTS)||o.includes(od.FILTER_EVENTS))return void w(oL.INVALID_EMAIL_INFORMATION);if(a.includes(od.FILTER_EVENTS)||s.includes(od.FILTER_EVENTS))return void w(oL.INVALID_PHONE_NUMBER_INFORMATION)}catch(t){}},n=nc(ni().mark(function t(){var e,r;return ni().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getCookieDeprecationLabel();case 3:return e=t.sent,t.next=6,this.getAllTopics();case 6:(r=t.sent)&&N(of.CUSTOM_INFO,{custom_name:"topics",extJSON:{cookie_label:String(e),stack:r.toString()}}),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:case"end":return t.stop()}},t,this,[[0,10]])})),o.detectTopics=function(){return n.apply(this,arguments)},e}(no);function nl(t,e){return(nl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}nf=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([t6(),nu(0,t5(tH.CONTEXT)),nu(1,t5(tH.TTQ_REPORTERS))],nf);var nh=function(t,e){return function(r,n){e(r,n,t)}},np=function(t){function e(e,r,n,o){var i;return(i=t.call(this,{name:"PangleCookieMatching",reporters:r,context:e})||this).hasReport=!1,i.reportService=n,i.env=o,i}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,nl(e,t);var r=e.prototype;return r.isPixelPangleCookieMatching=function(t){void 0===t&&(t="");var e=this.reporters;if(t){var r=e.find(function(e){return e.getReporterId()===t});if(r&&r.plugins.PangleCookieMatching)return!0}else if(e.some(function(t){return!!t.plugins.PangleCookieMatching}))return!0;return!1},r.disablePangleCookie=function(){this.isPixelPangleCookieMatching()&&eG("https://analytics.pangle-ads.com/api/v2/pangle_disable_cookie")},r.pixelSend=function(t,e,r,n,o){void 0===n&&(n={});try{var i;if((null==(i=this.context.getPageSign().pageIndex)?void 0:i.index)===0&&!ty(this.env)&&r&&r.message_id&&this.isPixelPangleCookieMatching(t)&&!this.hasReport){var a=r.event,c=r.message_id,s=r.context.library,u={event:a,message_id:c,context:{library:s},timestamp:new Date().toJSON()};this.hasReport=!0,this.reportService.report("https://analytics.pangle-ads.com/api/v2/pangle_pixel",u,ok.httpReport)}}catch(t){R(of.CUSTOM_ERROR,t,{custom_name:"pangle_report"})}},e}(rZ);np=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([t6(),nh(0,t5(tH.CONTEXT)),nh(1,t5(tH.TTQ_REPORTERS)),nh(2,t5(tH.REPORT_SERVICE)),nh(3,t5(tH.ENV))],np);var nd="https://analytics.tiktok.com/i18n/pixel/eb.js",nv="_tt_event_builder";function ng(t,e){return(ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}(on=oU||(oU={})).EVENT_BUILD_BOOTSTRAP_ACK="event_builder_bootstrap_ack",on.EVENT_BUILD_WRONG_CODE="event_builder_wrong_code",on.EVENT_BUILD_BOOTSTRAP="event_builder_bootstrap";var ny=function(t,e){return function(r,n){e(r,n,t)}},n_=function(t){function e(e,r){var n;return(n=t.call(this,{name:"EventBuilder",reporters:r,context:e})||this).pluginMounted=!1,n}return e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,ng(e,t),e.prototype.pixelDidMount=function(t){var e=this;if(!this.pluginMounted){this.pluginMounted=!0;var r=g(),n=function(t){t.data.type===oU.EVENT_BUILD_BOOTSTRAP&&!r._event_builder_pickup_sdk_loaded&&(e.reporters.find(function(e){return e.getReporterId()===t.data.pixelCode})?(r._event_builder_pickup_sdk_loaded=!0,en(nv,t.data),eG(nd).then(function(){window.opener.window.postMessage({type:oU.EVENT_BUILD_BOOTSTRAP_ACK},"*")}).catch(function(t){R(of.CUSTOM_ERROR,t,{custom_name:"event_builder_load_error",custom_enum:"load_ebjs"})})):r._event_builder_pickup_sdk_verify_flag||(setTimeout(function(){e.reporters.find(function(e){return e.getReporterId()===t.data.pixelCode})||window.opener.window.postMessage({type:oU.EVENT_BUILD_WRONG_CODE},"*")},5e3),r._event_builder_pickup_sdk_verify_flag=!0))};!r._event_builder_pickup_sdk_loaded&&(ee(nv)?eG(nd).then(function(){r._event_builder_pickup_sdk_loaded=!0}):window.opener&&(window.addEventListener("message",n),setTimeout(function(){window.removeEventListener("message",n)},8e3)))}},e}(rZ);function nm(t,e){return(nm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}n_=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([t6(),ny(0,t5(tH.CONTEXT)),ny(1,t5(tH.TTQ_REPORTERS))],n_);var nE=function(t,e){return function(r,n){e(r,n,t)}},nb="tt_pixel_is_enrich_ipv6_triggered_by_enrich_am",nI=function(t){function e(e,r,n,o){var i;return(i=t.call(this,{name:"EnrichIpv6",reporters:r,context:e})||this).hasReported=!1,i.shouldReportAfterEnrichAM=!1,i.reportService=n,i.env=o,i}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,nm(e,t);var r=e.prototype;return r.isPixelEnrichIpv6=function(){var t=this.reporters;return!!t&&0!==t.length&&t.every(function(t){return t&&t.plugins&&!0===t.plugins.EnrichIpv6})},r.isEnrichIpv6V2SwitchOn=function(){var t="EnrichIpv6V2";try{var e=g()._plugins||{};if(null!=e[t])return!!e[t];return!1}catch(t){return!1}},r.buildEnrichIpv6Data=function(t){var e=this.isEnrichIpv6V2SwitchOn()?"#source=2":"#source=1";return Object.assign(Object.assign({},t),{event:"EnrichIpv6",trigger_event:t.event,message_id:t.message_id+e})},r.pixelSend=function(t,e,r,n,o){void 0===n&&(n={});try{var i;if(o!==oA.TRACK||!("Shopify"===I(t)||this.isEnrichIpv6V2SwitchOn())||ty(this.env)||!(r&&r.message_id)||((null==(i=this.context.getPageSign().pageIndex)?void 0:i.index)===0&&!this.hasReported&&this.isPixelEnrichIpv6()&&(this.hasReported=!0,this.reportService.report(eh,this.buildEnrichIpv6Data(r),ok.htmlHttpReport)),"true"===sessionStorage.getItem(nb)))return;"EnrichAM"===e&&(this.shouldReportAfterEnrichAM=!0),this.shouldReportAfterEnrichAM&&this.isPixelEnrichIpv6()&&(this.shouldReportAfterEnrichAM=!1,sessionStorage.setItem(nb,"true"),this.reportService.report(eh,this.buildEnrichIpv6Data(r),ok.htmlHttpReport))}catch(t){R(of.CUSTOM_ERROR,t,{custom_name:"enrich_ipv6_report"})}},e}(rZ);function nO(t){return performance&&performance.timing?t?Date.now()-t:Date.now()-performance.timing.navigationStart:-1}function nP(t,e){return function(){for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];window.requestIdleCallback?window.requestIdleCallback(t.bind.apply(t,[e].concat(n))):t.apply(e,n)}}function nT(t,e){void 0===e&&(e=4);try{if(Number.isInteger(t))return t;return parseFloat(t.toFixed(e))}catch(t){return -1}}nI=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([t6(),nE(0,t5(tH.CONTEXT)),nE(1,t5(tH.TTQ_REPORTERS)),nE(2,t5(tH.REPORT_SERVICE)),nE(3,t5(tH.ENV))],nI),(oo=oH||(oH={})).FIRST_CONTENTFUL_PAINT="fcp",oo.LARGEST_CONTENTFUL_PAINT="lcp",oo.FIRST_INPUT_DELAY="fid",oo.TIME_TO_FIRST_BYTE="ttfb",oo.PAGE_LEAVE="pl",oo.LOAD_FINISH="lf",oo.TIME_WINDOW_TRACKER="twt",oo.TIME_TO_INTERACTIVE="tti";var nS=function(){function t(t,e,r,n){n?(this.reportService=r,this.context=t,this.reporters=e,this.reportUrl=n):R(of.CUSTOM_ERROR,Error("empty reportUrl"),{custom_name:"empty_reportUrl",custom_enum:"page_perf_monitor"})}var e=t.prototype;return e.getResult=function(t){return{action_event:t}},e.report=function(t){var e=this;if(void 0!==t){var r=this.getReportPixelList(),n=this.assemblyReportData(oA.PAGE,t,r);n&&this.reportService.reportPreTasks.then(function(){e.reportService.report(e.reportUrl,n,ok.defaultReport,oD.P0)}),this.resetAfterReport()}},e.getReportPixelList=function(){return this.reporters},e.assemblyReportData=function(t,e,r){if(0!==r.length){var n,o=r.map(function(t){return t.getReporterId()}),i=this.context.getPageSign(),a=r[0],c=a.assemblyData(a.getReporterId(),"",{},{},oA.PAGE);return delete c.event,c.action=t,c.auto_collected_properties=e,c.context.pixel||(c.context.pixel={}),c.context.pixel.code=o[0],c.context.pixel.codes=o.join("|"),c.context.index=null==(n=i.pageIndex)?void 0:n.index,c.context.session_id=i.sessionId,c.context.pageview_id=G(this.context.getPageViewId(),a.reporterInfo.loadId,"::"),c.message_id=c.message_id.replace(/-[^-]*$/,""),c}},t}();function nN(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function nR(t,e){return(nR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var nw,nL,nx,nA,nC,nk,nD,nj,nM,nF,nU,nH,nG,nV,nB,nW,nK,nY,nJ,nQ,nX,nq,nz,nZ,n$,n0,n1,n2,n3,n6,n5,n8,n4,n9,n7,ot,oe,or,on,oo,oi,oa,oc,os,ou,of,ol,oh,op,od,ov,og,oy,o_,om,oE,ob,oI,oO,oP,oT,oS,oN,oR,ow,oL,ox,oA,oC,ok,oD,oj,oM,oF,oU,oH,oG,oV,oB,oW,oK=function(t){function e(e,r,n,o,i){var a;return void 0===i&&(i=[]),(a=t.call(this,e,r,n,o)||this).clickTimes=0,a.clickTimesTotal=0,a.scrollTimes=0,a.scrollTimesTotal=0,a.stayTime=0,a.stayTimeReported=!1,a.rules=[],a.rules=i,a.init(),a}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,nR(e,t);var r=e.prototype;return r.init=function(){var t,e,r,n,o=this;t=nP(this.updateClickTimes,this),e=V(function(e){t()},100),window.addEventListener("click",e,{capture:!0}),r=nP(this.updateScrollTimes,this),n=V(function(){r()},500),window.addEventListener("scroll",n,{passive:!0}),setInterval(function(){o.reportInteraction()},1e4)},r.reportInteraction=function(){this.isUpdated()&&(this.report(this.getResult(oH.TIME_WINDOW_TRACKER)),this.resetAfterReport())},r.getResult=function(t){return this.getResultOnWindowTracker(t)},r.getResultOnPageLeave=function(t){var e;if(this.updateStayTime(),this.shouldReport()&&!this.stayTimeReported)return this.stayTimeReported=!0,e={metrics_type:"ct|st|pl",ct:this.clickTimes,st:this.scrollTimes,pl:this.stayTime},{action_event:t,inter:{ct:this.clickTimes,st:this.scrollTimes,pl:this.stayTime},page_inter:e}},r.getResultOnWindowTracker=function(t){var e;return e={metrics_type:"ct|st",ct:this.clickTimes,st:this.scrollTimes},{action_event:t,inter:{ct:this.clickTimes,st:this.scrollTimes},page_inter:e}},r.updateClickTimes=function(){this.clickTimes+=1,this.clickTimesTotal+=1},r.updateScrollTimes=function(){this.scrollTimes+=1,this.scrollTimesTotal+=1},r.updateStayTime=function(){this.stayTime=Math.floor(nO())},r.shouldReport=function(){for(var t,e=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return nN(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nN(t,e)}}(t))){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(this.rules);!(t=e()).done;){var r=t.value;try{if(!r({clickTimes:this.clickTimesTotal,scrollTimes:this.scrollTimesTotal,stayTime:this.stayTime}))return!1}catch(t){return!1}}return!0},r.isUpdated=function(){return 0!=this.clickTimes||0!=this.scrollTimes},r.resetAfterReport=function(){this.clickTimes=0,this.scrollTimes=0},e}(nS),oY=function(t){setTimeout(function(){t(oH.TIME_TO_INTERACTIVE,-1)},0)},oJ=function(t){var e=function(){new Promise(function(t,e){setTimeout(function(){var r=performance.getEntriesByType("navigation");if(r.length>0){var n=r[0];t(n.loadEventEnd-n.startTime)}else window.performance.timing?t(window.performance.timing.loadEventEnd-window.performance.timing.navigationStart||-1):e("Performance timing not supported")},0)}).then(function(e){t(oH.LOAD_FINISH,e)}).catch(function(e){t(oH.LOAD_FINISH,-1)})};"complete"===window.document.readyState?e():window.addEventListener("load",e)},oQ=-1,oX=function(t){addEventListener("pageshow",function(e){e.persisted&&(oQ=e.timeStamp,t(e))},!0)},oq=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},oz=function(){var t=oq();return t&&t.activationStart||0},oZ=function(t,e){var r=oq(),n="navigate";return oQ>=0?n="back-forward-cache":r&&(document.prerendering||oz()>0?n="prerender":document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:t,value:void 0===e?-1:e,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(0x82f79cd8fff*Math.random())+1e12),navigationType:n}},o$=function(t,e,r){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var n=new PerformanceObserver(function(t){Promise.resolve().then(function(){e(t.getEntries())})});return n.observe(Object.assign({type:t,buffered:!0},r||{})),n}}catch(t){}},o0=function(t,e,r,n){var o,i;return function(a){var c;e.value>=0&&(a||n)&&((i=e.value-(o||0))||void 0===o)&&(o=e.value,e.delta=i,c=e.value,e.rating=c>r[1]?"poor":c>r[0]?"needs-improvement":"good",t(e))}},o1=function(t){requestAnimationFrame(function(){return requestAnimationFrame(function(){return t()})})},o2=function(t){var e=function(e){"pagehide"!==e.type&&"hidden"!==document.visibilityState||t(e)};addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0)},o3=function(t){var e=!1;return function(r){e||(t(r),e=!0)}},o6=-1,o5=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},o8=function(t){"hidden"===document.visibilityState&&o6>-1&&(o6="visibilitychange"===t.type?t.timeStamp:0,o9())},o4=function(){addEventListener("visibilitychange",o8,!0),addEventListener("prerenderingchange",o8,!0)},o9=function(){removeEventListener("visibilitychange",o8,!0),removeEventListener("prerenderingchange",o8,!0)},o7=function(){return o6<0&&(o6=o5(),o4(),oX(function(){setTimeout(function(){o6=o5(),o4()},0)})),{get firstHiddenTime(){return o6}}},it=function(t){document.prerendering?addEventListener("prerenderingchange",function(){return t()},!0):t()},ie=[1800,3e3],ir=function(t,e){e=e||{},it(function(){var r,n=o7(),o=oZ("FCP"),i=o$("paint",function(t){t.forEach(function(t){"first-contentful-paint"===t.name&&(i.disconnect(),t.startTime<n.firstHiddenTime&&(o.value=Math.max(t.startTime-oz(),0),o.entries.push(t),r(!0)))})});i&&(r=o0(t,o,ie,e.reportAllChanges),oX(function(n){r=o0(t,o=oZ("FCP"),ie,e.reportAllChanges),o1(function(){o.value=performance.now()-n.timeStamp,r(!0)})}))})},io=[.1,.25],ii=function(t,e){e=e||{},ir(o3(function(){var r,n=oZ("CLS",0),o=0,i=[],a=function(t){t.forEach(function(t){if(!t.hadRecentInput){var e=i[0],r=i[i.length-1];o&&t.startTime-r.startTime<1e3&&t.startTime-e.startTime<5e3?(o+=t.value,i.push(t)):(o=t.value,i=[t])}}),o>n.value&&(n.value=o,n.entries=i,r())},c=o$("layout-shift",a);c&&(r=o0(t,n,io,e.reportAllChanges),o2(function(){a(c.takeRecords()),r(!0)}),oX(function(){o=0,r=o0(t,n=oZ("CLS",0),io,e.reportAllChanges),o1(function(){return r()})}),setTimeout(r,0))}))},ia={passive:!0,capture:!0},ic=new Date,is=function(t,e){oG||(oG=e,oV=t,oB=new Date,ih(removeEventListener),iu())},iu=function(){if(oV>=0&&oV<oB-ic){var t={entryType:"first-input",name:oG.type,target:oG.target,cancelable:oG.cancelable,startTime:oG.timeStamp,processingStart:oG.timeStamp+oV};oW.forEach(function(e){e(t)}),oW=[]}},il=function(t){if(t.cancelable){var e,r,n,o=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;"pointerdown"==t.type?(e=function(){is(o,t),n()},r=function(){n()},n=function(){removeEventListener("pointerup",e,ia),removeEventListener("pointercancel",r,ia)},addEventListener("pointerup",e,ia),addEventListener("pointercancel",r,ia)):is(o,t)}},ih=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach(function(e){return t(e,il,ia)})},ip=[100,300],id=function(t,e){e=e||{},it(function(){var r,n=o7(),o=oZ("FID"),i=function(t){t.startTime<n.firstHiddenTime&&(o.value=t.processingStart-t.startTime,o.entries.push(t),r(!0))},a=function(t){t.forEach(i)},c=o$("first-input",a);r=o0(t,o,ip,e.reportAllChanges),c&&o2(o3(function(){a(c.takeRecords()),c.disconnect()})),c&&oX(function(){r=o0(t,o=oZ("FID"),ip,e.reportAllChanges),oW=[],oV=-1,oG=null,ih(addEventListener),oW.push(i),iu()})})},iv=[2500,4e3],ig={},iy=function(t,e){e=e||{},it(function(){var r,n=o7(),o=oZ("LCP"),i=function(t){var e=t[t.length-1];e&&e.startTime<n.firstHiddenTime&&(o.value=Math.max(e.startTime-oz(),0),o.entries=[e],r())},a=o$("largest-contentful-paint",i);if(a){r=o0(t,o,iv,e.reportAllChanges);var c=o3(function(){ig[o.id]||(i(a.takeRecords()),a.disconnect(),ig[o.id]=!0,r(!0))});["keydown","click"].forEach(function(t){addEventListener(t,function(){return setTimeout(c,0)},!0)}),o2(c),oX(function(n){r=o0(t,o=oZ("LCP"),iv,e.reportAllChanges),o1(function(){o.value=performance.now()-n.timeStamp,ig[o.id]=!0,r(!0)})})}})},i_=[800,1800],im=function t(e){document.prerendering?it(function(){return t(e)}):"complete"!==document.readyState?addEventListener("load",function(){return t(e)},!0):setTimeout(e,0)},iE=function(t,e){e=e||{};var r=oZ("TTFB"),n=o0(t,r,i_,e.reportAllChanges);im(function(){var o=oq();if(o){var i=o.responseStart;if(i<=0||i>performance.now())return;r.value=Math.max(i-oz(),0),r.entries=[o],n(!0),oX(function(){(n=o0(t,r=oZ("TTFB",0),i_,e.reportAllChanges))(!0)})}})};function ib(t,e){return(ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var iI=function(t,e){return function(r,n){e(r,n,t)}},iO=function(t){function e(e,r,n,o){var i;return(i=t.call(this,e,r,n,o)||this).cls=-1,i.init(),i}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,ib(e,t);var r=e.prototype;return r.init=function(){ii(this.clsHandler.bind(this),{reportAllChanges:!0}),iE(this.webVitalHandler.bind(this)),ir(this.webVitalHandler.bind(this)),iy(this.webVitalHandler.bind(this),{reportAllChanges:!0}),id(this.webVitalHandler.bind(this)),oY(this.baseHandler.bind(this)),oJ(this.baseHandler.bind(this))},r.getResult=function(t){var e=Math.floor(nO()),r={ttns:e,cls:nT(this.cls),idx:this.getSessionIndex(),pep:nT(this.getPep())},n=["cls","idx","pep"];n.unshift(t);var o={metrics_type:n.join("|"),cls:r.cls,idx:r.idx,pep:r.pep};return o[t]=e,{action_event:t,perf:r,page_perf:o}},r.resetAfterReport=function(){},r.clsHandler=function(t){this.cls=t.value||-1},r.webVitalHandler=function(t){var e,r=this.getResult(t.name.toLocaleLowerCase());r.perf&&(r.perf.ttns=(null==t?void 0:t.value)?Math.floor(t.value):-1),r.page_perf&&(r.page_perf[t.name.toLocaleLowerCase()]=null==(e=null==r?void 0:r.perf)?void 0:e.ttns),this.report(r),this.resetAfterReport()},r.baseHandler=function(t,e){var r,n=this.getResult(t);n.perf&&(n.perf.ttns=e?Math.floor(e):-1),n.page_perf&&(n.page_perf[t]=null==(r=n.perf)?void 0:r.ttns),this.report(n),this.resetAfterReport()},r.getSessionIndex=function(){var t,e=null==(t=this.context.getPageSign().pageIndex)?void 0:t.main;return null==e?-1:e},r.getCurrScrollPosition=function(){return document.documentElement.scrollTop||document.body.scrollTop},r.getViewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},r.getMaxHeight=function(){var t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)},r.getPep=function(){return(this.getCurrScrollPosition()+this.getViewportHeight())/this.getMaxHeight()},e}(nS);iO=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([iI(0,t5(tH.CONTEXT)),iI(1,t5(tH.TTQ_REPORTERS)),iI(2,t5(tH.REPORT_SERVICE))],iO);var iP=[function(t){var e=t.clickTimes,r=t.scrollTimes;return e>=1||r>=1},function(t){return t.stayTime>1e3}];function iT(t,e){return(iT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var iS=function(t,e){return function(r,n){e(r,n,t)}},iN=function(t){function e(e,r,n,o){var i;return(i=t.call(this,{name:"PageData",reporters:r,context:e})||this).monitors=[],i.ttqOptions={},i.reportService=n,i.context=e,i.reporters=r,i.ttqOptions=o,i.isPluginInit=!1,i}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,iT(e,t);var r=e.prototype;return r.init=function(){var t=this.isPageInterEnabled(),e=this.isPagePerfEnabled();(t||e)&&(t&&this.initInteraction(),e&&this.initPerformance())},r.initInteraction=function(){this.interactionMonitor=new oK(this.context,this.reporters,this.reportService,eJ(oA.PAGE_INTERACTION),iP),this.monitors.push(this.interactionMonitor)},r.initPerformance=function(){this.performanceMonitor=new iO(this.context,this.reporters,this.reportService,eJ(oA.PAGE_PERFORMANCE)),this.monitors.push(this.performanceMonitor)},r.isPagePerfEnabled=function(){var t,e;return null==(e=null==(t=this.ttqOptions)?void 0:t.plugins)?void 0:e.PageData},r.isPageInterEnabled=function(){var t,e;return null==(e=null==(t=this.ttqOptions)?void 0:t.plugins)?void 0:e.PageData},r.report=function(t){var e=this.interactionMonitor.getResultOnPageLeave(t);void 0!==e&&(this.interactionMonitor.report(e),this.interactionMonitor.resetAfterReport())},r.pageWillLeave=function(t){this.report(oH.PAGE_LEAVE)},r.pixelDidMount=function(t){this.isPluginInit||(this.init(),this.isPluginInit=!0)},e}(rZ);iN=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([t6(),iS(0,t5(tH.CONTEXT)),iS(1,t5(tH.TTQ_REPORTERS)),iS(2,t5(tH.REPORT_SERVICE)),iS(3,t5(tH.TTQ_GLOBAL_OPTIONS))],iN);var iR=[].concat([],[{identifier:tH.CALLBACK_PLUGIN,to:r1,name:"Callback"},{identifier:tH.IDENTIFY_PLUGIN,to:nf,name:"Identify",required:!0},{identifier:tH.PANGLE_COOKIE_MATCHING_PLUGIN,to:np,name:"PangleCookieMatching"},{identifier:tH.EVENT_BUILDER_PLUGIN,to:n_,name:"EventBuilder"},{identifier:tH.ENRICH_IPV6_PLUGIN,to:nI,name:"EnrichIpv6"},{identifier:tH.PAGEDATA_PLUGIN,to:iN,name:"PageData"}]),iw=/^[\w!#\$%&\'\*\+\/\=\?\^`\{\|\}~\-]+(:?\.[\w!#\$%&\'\*\+\/\=\?\^`\{\|\}~\-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?$/,iL=function(t){return"function"==typeof Element?t instanceof Element:t&&"object"==typeof t&&t.nodeType===Node.ELEMENT_NODE&&"string"==typeof t.nodeName},ix=function(t,e){var r=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||null;return!!(null!==r&&r.call(t,e.join(",")))||t instanceof HTMLButtonElement&&!!e.includes("button[type='"+t.type+"']")},iA=function(t){if(!t||t===document.body)return!1;if(t.getBoundingClientRect&&"function"==typeof t.getBoundingClientRect){var e=t.getBoundingClientRect().height||t.offsetHeight||11;return e>10&&e<600}return!0},iC=function(t){return t.trim().toLowerCase()},ik=function(t,e){return!!t&&!!e&&t.indexOf(e)>=0},iD=function(t){return"string"==typeof t&&iw.test(t)},ij=function(t){if(!t)return null;for(var e=t.parentElement,r=t,n="";r;)(r=r.previousElementSibling)&&(r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement)&&(n=r.value,r=null);if(!n||"string"!=typeof n||!e||0>(e.innerText||e.textContent||"").indexOf("@"))return null;var o=n+"@"+t.value;return iD(o)?o:null},iM=function(t,e){var r=t.id,n=t.name,o=t.placeholder,i=void 0===o?"":o,a=t.value,c=void 0===a?"":a;return e.filter(function(t){return t.length>2?ik(n,t)||ik(r,t)||ik(i,t)||ik(c,t):n===t||r===t||i===t||c===t})};function iF(t,e){return(iF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var iU=function(t,e){return function(r,n){e(r,n,t)}},iH=function(t){function e(e,r,n){var o;return(o=t.call(this,{name:"AutoAdvancedMatching",reporters:r,context:e})||this).rateMS=1e3,o.lastTime=0,o.lastElement=null,o.matchHistory=[],o.config=n.aam||{in_form:!0,selectors:{},exclude_selectors:[],phone_regex:"",phone_selectors:[],restricted_keywords:[]},o.phoneRegex=o.config.phone_regex?new RegExp(o.config.phone_regex):null,o.init(),o}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,iF(e,t);var r=e.prototype;return r.init=function(){var t=this;document.addEventListener("click",function(e){try{var r=g()||[],n=e&&e.target&&e.target instanceof Node&&iL(e.target)?e.target:null;if(!n||!t.throttle(n))return;var o=t.getWrappingButton(n);if(!o)return;var i=t.getFormByButton(o);if(t.config.in_form&&!i)return;var a=t.getUserDataByForm(i);if(0===Object.keys(a).length)return;null==r||r.identify(Object.assign(a||{},{auto_trigger_type:t.getTriggerType(o,!!i)})),t.matchHistory.push(Object.assign({},a))}catch(t){N(of.CUSTOM_ERROR,{pixelCode:L().pixelCode,custom_name:"advancedMatching"})}},{capture:!0,once:!1,passive:!0})},r.throttle=function(t){var e=!1;return(!this.lastElement||!this.lastTime||Date.now()-this.lastTime>=this.rateMS||this.lastElement!==t)&&(e=!0),this.lastElement=t,this.lastTime=Date.now(),e},r.getWrappingButton=function(t){if(!t||!iA(t)||(this.config.exclude_selectors||[]).length>0&&ix(t,this.config.exclude_selectors||[]))return null;if(ix(t,Object.keys(this.config.selectors||{})))return t;var e=t.parentNode;return e&&iL(e)?this.getWrappingButton(e):null},r.getFormByButton=function(t){if(t instanceof HTMLInputElement)return t.form;for(var e=t;"FORM"!==e.nodeName.toUpperCase();){var r=e.parentElement;if(!r)return null;e=r}return e},r.getUserDataByForm=function(t){for(var e={},r=t||document,n=r.querySelectorAll("input,textarea,select"),o=0;o<n.length;o++){var i=n[o];if(i instanceof HTMLInputElement||i instanceof HTMLTextAreaElement){var a=this.getPIIFieldsByInput(i);a&&Object.assign(e,a)}}return e},r.getPIIFieldsByInput=function(t){var e=t.getAttribute("type")||"",r=t.getAttribute("inputmode")||"",n=t.value,o=iC(t.placeholder?t.placeholder:"").replace(/[_-]/g,""),i={id:iC(t.id).replace(/[_-]/g,""),name:iC(t.name).replace(/[_-]/g,"")};if("password"===e||!n)return null;var a=iM(i,this.config.restricted_keywords);if(a.length>0)return iD(n)&&N(of.CUSTOM_INFO,{custom_name:"aam_hit_restricted",custom_enum:a.join(",")}),null;if(iD(n))return{auto_email:iC(n)};var c=ij(t);if(c)return{auto_email:iC(c)};if("US"===((g()||[])._cc||"").toUpperCase()&&n.replace(/\D/g,"").length<10)return null;var s=!(this.config.phone_selectors.length>0)||"tel"===e||"tel"===r||iM(Object.assign(i,{placeholder:o}),this.config.phone_selectors).length>0,u=!this.phoneRegex||this.phoneRegex.test(n);return s&&u?{auto_phone_number:n}:null},r.getTriggerType=function(t,e){var r=this;try{var n=[];if(Object.keys(this.config.selectors).forEach(function(e){ix(t,[e])&&n.push(r.config.selectors[e])}),0===n.length)return"";return n.join(",")+"-"+ +!!e}catch(t){return""}},e}(rZ);iH=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([t6(),iU(0,t5(tH.CONTEXT)),iU(1,t5(tH.TTQ_REPORTERS)),iU(2,t5(tH.TTQ_GLOBAL_OPTIONS))],iH);var iG=function(t,e){t.isBound(tH.AUTO_ADVANCED_MATCHING_PLUGIN)||t.bind(tH.AUTO_ADVANCED_MATCHING_PLUGIN).to(iH).inSingletonScope(),ae(tH.AUTO_ADVANCED_MATCHING_PLUGIN,"AutoAdvancedMatching")&&e.usePlugin(t.get(tH.AUTO_ADVANCED_MATCHING_PLUGIN))};function iV(t,e){return(iV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var iB=function(t){function e(e){var r;return(r=t.call(this,e)||this).observers=new Set([]),r}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,iV(e,t);var r=e.prototype;return r.addObserver=function(t){this.observers.has(t)||this.observers.add(t)},r.removeObserver=function(t){this.observers.delete(t)},r.notifyObservers=function(t,e){this.observers.forEach(function(r){return r.call(e,t)})},e}(rq),iW="HistoryObserver";(nw||(nw={})).DYNAMIC_WEB_PAGEVIEW="dynamic_web_pageview";var iK=["GoogleTagManagerClient","GoogleTagManagerServer"];function iY(t,e){var r=history[t];return function(){var t=Array.prototype.slice.call(arguments);r.apply(history,t),e()}}function iJ(t){var e=t.options,r=t.plugins;return e&&!1!==e.historyObserver&&r&&r[iW]}function iQ(t,e){var r=t7().url,n=t.context.getPageInfo().url;if(r!==n){var o,i=t.context.setPageInfo(r,n);i&&i.pageIndex&&eS(i.pageIndex),t.reporters.filter((o=nw.DYNAMIC_WEB_PAGEVIEW,function(t){var e=t.plugins;return!!(iJ(t)&&e[iW]&&e[iW][o])})).forEach(function(t){setTimeout(function(){t.page(e)})})}}function iX(t,e){return(iX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var iq=function(t,e){return function(r,n){e(r,n,t)}},iz=function(t){function e(e,r){var n;return(n=t.call(this,{name:iW,reporters:r,context:e})||this).enableListenSPAHistoryChange=!1,n.listenSPAHistoryChange=q(function(){var t=function(){n.enableListenSPAHistoryChange&&n.notifyObservers({tf:ow.HISTORY_CHANGE})},e=function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];setTimeout(function(){return t.apply(void 0,r)},0)};window.addEventListener("popstate",e),history.pushState=iY("pushState",t),history.replaceState=iY("replaceState",t)}),n.dynamicWebPageviewHandler=iQ.bind(null,function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,iX(e,t);var r=e.prototype;return r.initListener=function(t){this.enableListenSPAHistoryChange=function(t){if(!t)return!1;var e=I(),r=t.getReporterPartner();return!(e&&!iK.includes(e)||r&&t.isPartnerReporter()&&!iK.includes(r))}(t),this.enableListenSPAHistoryChange&&this.listenSPAHistoryChange()},r.pixelSend=function(t,e){var r=this.reporters.find(function(e){return e.getReporterId()===t});r&&iJ(r)&&(e&&"pageview"===e.toLowerCase()&&this.addObserver(this.dynamicWebPageviewHandler),this.initListener(r))},r.pageUrlWillChange=function(){if(this.enableListenSPAHistoryChange)return void this.notifyObservers({tf:ow.HISTORY_CHANGE});this.notifyObservers({tf:ow.URL_CHANGE,event_experiment:"pageview"})},e}(iB);function iZ(t,e){return(iZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}iz=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([t6(),iq(0,t5(tH.CONTEXT)),iq(1,t5(tH.TTQ_REPORTERS))],iz);var i$=function(t){function e(e,r){var n;return(n=t.call(this,e,r)||this)._THROTTLE_INTERVAL=1e3,n}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,iZ(e,t);var r=e.prototype;return r.setupListeners=function(){var t=this;try{if(this.currentConfig&&"window"===this.currentConfig.environment){var e=ta.join(", "),r=V(function(e){return t.handleEvent(e)},this._THROTTLE_INTERVAL);this.currentConfig.listenEventTypes.forEach(function(n){var o;(null==(o=t.currentConfig)?void 0:o.pluginVersion)==="v1"?document.querySelectorAll(e).forEach(function(t){tc.some(function(e){return t.matches(e)})||t.addEventListener("click",r,{capture:!0})}):(window.addEventListener(n,r,{capture:!0}),t.listeners.set(n,r))})}}catch(t){R(of.CUSTOM_ERROR,t,{custom_name:"ClickObserver",custom_enum:"setupListeners_error"})}},r.teardownListeners=function(){var t=this;this.listeners.forEach(function(e,r){t.currentConfig&&"window"===t.currentConfig.environment&&window.removeEventListener(r,e)}),this.listeners.clear()},r.handleEvent=function(t){try{this.sendEvent(t)}catch(t){t(of.CUSTOM_ERROR,t,{custom_name:"ClickObserver",custom_enum:"handleEvent_error"})}},r.getObserverType=function(){return"click"},e}(function(){function t(t,e){this.listeners=new window[window.TiktokAnalyticsObject || "ttq"]._ttq_map,this.eventEmitter=t,this.currentConfig=e,this.validateConfig(e)&&this.setupListeners()}var e=t.prototype;return e.updateConfig=function(t){var e;this.validateConfig(t)&&(this.currentConfig?(e=this.currentConfig.listenEventTypes).push.apply(e,t.listenEventTypes):this.currentConfig=t,this.setupListeners())},e.sendEvent=function(t){this.eventEmitter.emit(t.type,t)},e.validateConfig=function(t){return!!t&&!!t.emitterType&&!!t.listenEventTypes},t}());function i0(t,e){return(i0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var i1=function(t,e){return function(r,n){e(r,n,t)}},i2=function(t){function e(e,r,n){var o;return(o=t.call(this,{name:"INTERACTION_OBSERVER",reporters:r,context:e})||this).observersMap=new window[window.TiktokAnalyticsObject || "ttq"]._ttq_map([]),o.eventEmitter=n,o.eventEmitter.on(oS.UPDATE_CONFIG,o.updateObserverConfig.bind(function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(o)),{}),o}e.prototype=Object._ttq_create(t.prototype),e.prototype.constructor=e,i0(e,t);var r=e.prototype;return r.registerObserver=function(t){var e;"click"===t&&(e=new i$(this.eventEmitter),this.observersMap.set(t,e))},r.unregisterObserver=function(t){var e=this.observersMap.get(t);e&&(e.teardownListeners(),this.observersMap.delete(t))},r.destroyAll=function(){this.observersMap.forEach(function(t){return t.teardownListeners()}),this.observersMap.clear()},r.updateObserverConfig=function(t){var e=this.observersMap.get(t.emitterType);e||(this.registerObserver(t.emitterType),e=this.observersMap.get(t.emitterType)),e&&e.updateConfig(t)},e}(iB);i2=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([t6(),i1(0,t5(tH.CONTEXT)),i1(1,t5(tH.TTQ_REPORTERS)),i1(2,t5(tH.EVENT_EMITTER))],i2);var i3=[{identifier:tH.HISTORY_OBSERVER,to:iz,name:"HistoryObserver"},{identifier:tH.INTERACTION_OBSERVER,to:i2,name:"InteractionObserver"}],i6=g(),i5=(null==i6?void 0:i6._container)||new t3,i8=(null==i6?void 0:i6._container)?ox.REBIND:ox.BIND;tv();var i4=i5[i8](tH.ENV),i9=i5[i8](td.SignalType);i5[i8](td.ID),i5[i8](td.Type),i5[i8](td.Options),i5[i8](td.Plugins),i5[i8](td.Rules),i5[i8](td.Info);var i7=i5[i8](td.WebLibraryInfo),at=i5[i8](tH.TTQ_GLOBAL_OPTIONS);try{if(!i5.get(tH.TTQ_GLOBAL_OPTIONS))throw Error("")}catch(t){at.toConstantValue({})}function ae(t,e){return!!(i6&&i6._mounted&&!i6.getPlugin(e)&&i5.isBound(t))}var ar=function(t,e){var r=tg();i7.toConstantValue({name:"pixel.js",version:"2.2.1",options:void 0}),i4.toConstantValue(e),i9.toConstantValue(r)},an=function(t){(null==t?void 0:t._container)||(i5.bind(tH.TTQ).to(ri).inSingletonScope(),i5.bind(tH.CONTEXT).to(rf).inSingletonScope(),i5.bind(tH.REPORTER).to(e8),i5.bind(tH.TTQ_REPORTERS).toConstantValue([]),i5.bind(tH.REPORT_SERVICE).to(rR).inSingletonScope(),i5.bind(tH.AD_SERVICE).to(rx).inSingletonScope(),i5.bind(tH.APP_SERVICE).to(rk).inSingletonScope(),i5.bind(tH.BRIDGE_SERVICE).to(rH).inSingletonScope(),i5.bind(tH.HTTP_SERVICE).to(rB).inSingletonScope(),i5.bind(td.IsOnsitePage).toConstantValue({value:!1}),i5.bind(tH.COOKIE_SERVICE).to(rY).inSingletonScope(),i5.bind(tH.CONSENT_SERVICE).to(rX).inSingletonScope(),i5.bind(tH.EVENT_EMITTER).to(eY).inSingletonScope()),t&&!t._container&&(t._container=i5)},ao=function(){iR.forEach(function(t){var e=t.to,r=t.name,n=void 0===r?"":r,o=t.required,i=t.identifier;(void 0!==o&&o||P(n))&&!i5.isBound(i)&&i5.bind(i).to(e).inSingletonScope(),ae(i,n)&&i6.usePlugin(i5.get(i))})},ai=function(){i3.forEach(function(t){var e=t.to,r=t.name,n=t.identifier;P(void 0===r?"":r)&&!i5.isBound(n)&&i5.bind(n).to(e).inSingletonScope()})},aa=function(t,e,r){ar(t,r),tX(e,t),ai(),an(t),ao(),iG(e,t)},ac=function(){try{var t=i5.get(tH.MONITOR_PLUGIN);if(t)return t;return null}catch(t){return null}},as=function(){try{i5.get(tH.EVENT_EMITTER)}catch(t){R(of.CUSTOM_ERROR,t,{custom_name:"emitterFactory"})}},au=function(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){return e.reject(r)})})},af=function(t){return new this(function(e,r){if(!(t&&void 0!==t.length))return r(TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n=Array.prototype.slice.call(t);if(0===n.length)return e([]);for(var o=n.length,i=0;i<n.length;i++)!function t(r,i){if(i&&("object"==typeof i||"function"==typeof i)){var a=i.then;if("function"==typeof a)return void a.call(i,function(e){t(r,e)},function(t){n[r]={status:"rejected",reason:t},0==--o&&e(n)})}n[r]={status:"fulfilled",value:i},0==--o&&e(n)}(i,n[i])})};function al(t,e){this.name="AggregateError",this.errors=t,this.message=e||""}al.prototype=Error.prototype;var ah=function(t){var e=this;return new e(function(r,n){if(!(t&&void 0!==t.length))return n(TypeError("Promise.any accepts an array"));var o=Array.prototype.slice.call(t);if(0===o.length)return n();for(var i=[],a=0;a<o.length;a++)try{e.resolve(o[a]).then(r).catch(function(t){i.push(t),i.length===o.length&&n(new al(i,"All promises were rejected"))})}catch(t){n(t)}})},ap=setTimeout;function ad(t){return!!(t&&void 0!==t.length)}function av(){}function ag(t){if(!(this instanceof ag))throw TypeError("Promises must be constructed via new");if("function"!=typeof t)throw TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],aI(t,this)}function ay(t,e){for(;3===t._state;)t=t._value;if(0===t._state)return void t._deferreds.push(e);t._handled=!0,ag._immediateFn(function(){var r,n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?a_:am)(e.promise,t._value);try{r=n(t._value)}catch(t){am(e.promise,t);return}a_(e.promise,r)})}function a_(t,e){try{if(e===t)throw TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var r=e.then;if(e instanceof ag){t._state=3,t._value=e,aE(t);return}if("function"==typeof r)return void aI(function(){r.apply(e,arguments)},t)}t._state=1,t._value=e,aE(t)}catch(e){am(t,e)}}function am(t,e){t._state=2,t._value=e,aE(t)}function aE(t){2===t._state&&0===t._deferreds.length&&ag._immediateFn(function(){t._handled||ag._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)ay(t,t._deferreds[e]);t._deferreds=null}function ab(t,e,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=r}function aI(t,e){var r=!1;try{t(function(t){r||(r=!0,a_(e,t))},function(t){r||(r=!0,am(e,t))})}catch(t){if(r)return;r=!0,am(e,t)}}ag.prototype.catch=function(t){return this.then(null,t)},ag.prototype.then=function(t,e){var r=new this.constructor(av);return ay(this,new ab(t,e,r)),r},ag.prototype.finally=au,ag.all=function(t){return new ag(function(e,r){if(!ad(t))return r(TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(0===n.length)return e([]);for(var o=n.length,i=0;i<n.length;i++)!function t(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var c=a.then;if("function"==typeof c)return void c.call(a,function(e){t(i,e)},r)}n[i]=a,0==--o&&e(n)}catch(t){r(t)}}(i,n[i])})},ag.any=ah,ag.allSettled=af,ag.resolve=function(t){return t&&"object"==typeof t&&t.constructor===ag?t:new ag(function(e){e(t)})},ag.reject=function(t){return new ag(function(e,r){r(t)})},ag.race=function(t){return new ag(function(e,r){if(!ad(t))return r(TypeError("Promise.race accepts an array"));for(var n=0,o=t.length;n<o;n++)ag.resolve(t[n]).then(e,r)})},ag._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){ap(t,0)},ag._unhandledRejectionFn=function(t){};var aO=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw Error("unable to locate global object")}();"function"!=typeof aO.Promise?aO.Promise=ag:(aO.Promise.prototype.finally||(aO.Promise.prototype.finally=au),aO.Promise.allSettled||(aO.Promise.allSettled=af),aO.Promise.any||(aO.Promise.any=ah));var aP=v();try{!function(){var t,e=L().pixelCode,r=g(),n=tv(),o=tg();if(aa(r,i5,n),P("Monitor")){var i=ac();null==i||i.info(of.BEFORE_INIT,{pixelCode:e,extJSON:{stack:tf(e)}})}if(as(),r){if(r._mounted){N(of.HANDLE_CACHE,{pixelCode:e}),tz(i5,r);try{i5.get(td.ID)}catch(t){R(of.CUSTOM_ERROR,t,{custom_name:"troubleshooting",custom_enum:"container_get_id_false"})}i5.get(tH.TTQ).dispatch(oN.PATCH_END)}else void 0===(t=o)&&(t=oI.OFFSITE),tK(i5,tH.ENV,n),tK(i5,td.SignalType,t),nL=i5.get(tH.TTQ),window[aP]=(["getReporter","usePlugin","getPlugin","resetCookieExpires","getEmitter"].forEach(function(t){r[t]=function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return nL[t].apply(nL,r)}}),r.context=nL.context,r.reporters=nL.reporters,r),r.resetCookieExpires&&r.resetCookieExpires(),tz(i5,nL),tq(nL);var a=i5.get(td.IsOnsitePage);a.value=o===oI.ONSITE||r.reporters.every(function(t){return t.isOnsite()}),i5.rebind(td.IsOnsitePage).toConstantValue(a),r.reporters.forEach(function(t){var e;(null==(e=t.rules)?void 0:e.length)>0&&nx&&new nx(t.getReporterId(),t.rules)})}}()}catch(t){R(of.INIT_ERROR,t)}}()}();